/* =============================================================================
   QUICKSITE ADMIN PANEL STYLES
   =============================================================================
   Admin-specific styles with self-contained variables.
   Does NOT depend on style.css - admin panel works even if main CSS is cleared.
   ============================================================================= */

/* =============================================================================
   BASE VARIABLES (Fallbacks for when style.css is empty/cleared)
   These ensure admin panel works independently of main site CSS
   ============================================================================= */
:root {
    /* Typography - fallbacks if not defined in style.css */
    --font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    
    /* Spacing - fallbacks if not defined in style.css */
    --space-xs: 0.25rem;
    --space-sm: 0.5rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
    --space-xl: 2rem;
    --space-2xl: 3rem;
    
    /* Border radius - fallbacks if not defined in style.css */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
}

/* =============================================================================
   ADMIN THEME VARIABLES (Dark theme for admin panel)
   ============================================================================= */
:root {
    /* Admin-specific darker colors */
    --admin-bg: #1a1612;
    --admin-bg-secondary: #252019;
    --admin-bg-tertiary: #2f2820;
    --admin-surface: #3a322a;
    --admin-surface-hover: #453c32;
    --admin-border: rgba(250, 246, 241, 0.1);
    --admin-border-focus: rgba(194, 112, 62, 0.5);
    
    /* Text on dark backgrounds */
    --admin-text: #faf6f1;
    --admin-text-muted: #b5a899;
    --admin-text-light: #8a7a68;
    
    /* Accent colors (using existing warm palette) */
    --admin-accent: #c2703e;
    --admin-accent-hover: #d4865a;
    --admin-accent-muted: rgba(194, 112, 62, 0.2);
    
    /* Status colors */
    --admin-success: #6b8e5c;
    --admin-success-bg: rgba(107, 142, 92, 0.15);
    --admin-warning: #d4a84b;
    --admin-warning-bg: rgba(212, 168, 75, 0.15);
    --admin-error: #c25548;
    --admin-error-bg: rgba(194, 85, 72, 0.15);
    --admin-info: #7a9eb8;
    --admin-info-bg: rgba(122, 158, 184, 0.15);
    
    /* Layout */
    --admin-header-height: 64px;
    --admin-sidebar-width: 280px;
    --admin-content-max-width: 1400px;
}
code{
  color: var(--admin-accent);
}
/* =============================================================================
   BASE LAYOUT
   ============================================================================= */
.admin-body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    background: var(--admin-bg);
    color: var(--admin-text);
    font-family: var(--font-family);
    display: flex;
    flex-direction: column;
}

/* Override main site form styling within admin panel */
.admin-body form {
    background: transparent;
    box-shadow: none;
    max-width: none;
    margin: 0;
    padding: 0;
    border-radius: 0;
}

.admin-body--login {
    background: linear-gradient(135deg, var(--admin-bg) 0%, var(--admin-bg-secondary) 100%);
}

.admin-main {
    flex: 1;
    padding: var(--space-xl);
    max-width: var(--admin-content-max-width);
    margin: 0 auto;
    width: 100%;
    box-sizing: border-box;
}

.admin-main--centered {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-lg);
}

/* =============================================================================
   HEADER
   ============================================================================= */
.admin-header {
    background: var(--admin-bg-secondary);
    border-bottom: 1px solid var(--admin-border);
    height: var(--admin-header-height);
    display: flex;
    align-items: center;
    padding: 0 var(--space-xl);
    position: sticky;
    top: 0;
    z-index: 100;
}

.admin-header__brand {
    margin-right: var(--space-2xl);
}

.admin-header__logo {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    color: var(--admin-text);
    text-decoration: none;
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-lg);
}

.admin-header__logo:hover {
    color: var(--admin-accent);
}

.admin-header__icon {
    width: 24px;
    height: 24px;
    color: var(--admin-accent);
}

/* =============================================================================
   NAVIGATION
   ============================================================================= */
.admin-nav {
    display: flex;
    gap: var(--space-xs);
    flex: 1;
}

.admin-nav__link {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    color: var(--admin-text-muted);
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
    font-size: var(--font-size-sm);
}

.admin-nav__link:hover {
    color: var(--admin-text);
    background: var(--admin-surface);
}

.admin-nav__link--active {
    color: var(--admin-accent);
    background: var(--admin-accent-muted);
}

.admin-nav__icon {
    width: 18px;
    height: 18px;
}

.admin-header__actions {
    display: flex;
    gap: var(--space-sm);
}

/* =============================================================================
   BUTTONS
   ============================================================================= */
.admin-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    text-decoration: none;
    cursor: pointer;
    border: none;
    transition: all var(--transition-fast);
}

.admin-btn__icon {
    width: 16px;
    height: 16px;
}

.admin-btn--primary {
    background: var(--admin-accent);
    color: var(--admin-text);
}

.admin-btn--primary:hover {
    background: var(--admin-accent-hover);
}

.admin-btn--outline {
    background: transparent;
    color: var(--admin-text-muted);
    border: 1px solid var(--admin-border);
}

.admin-btn--outline:hover {
    color: var(--admin-text);
    border-color: var(--admin-text-muted);
}

.admin-btn--ghost {
    background: transparent;
    color: var(--admin-text-muted);
}

.admin-btn--ghost:hover {
    color: var(--admin-text);
    background: var(--admin-surface);
}

.admin-btn--lg {
    padding: var(--space-md) var(--space-xl);
    font-size: var(--font-size-base);
}

.admin-btn--block {
    width: 100%;
    justify-content: center;
}

/* =============================================================================
   FOOTER
   ============================================================================= */
.admin-footer {
    background: var(--admin-bg-secondary);
    border-top: 1px solid var(--admin-border);
    padding: var(--space-md) var(--space-xl);
    text-align: center;
    color: var(--admin-text-light);
    font-size: var(--font-size-sm);
}

.admin-footer__content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.admin-footer__content p {
    margin: 0;
}

.admin-footer__lang {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.admin-footer__lang-label {
    opacity: 0.7;
    margin-right: var(--space-xs);
}

.admin-footer__lang-btn {
    padding: 0.25rem 0.5rem;
    font-size: var(--font-size-xs);
    background: transparent;
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    color: var(--admin-text-light);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.admin-footer__lang-btn:hover {
    background: var(--admin-bg-primary);
    border-color: var(--admin-primary);
    color: var(--admin-primary);
}

.admin-footer__lang-btn--active {
    background: var(--admin-primary);
    border-color: var(--admin-primary);
    color: var(--admin-bg-primary);
    cursor: default;
}

/* =============================================================================
   CARDS & PANELS
   ============================================================================= */
.admin-card {
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.admin-card__header {
    padding: var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
}

.admin-card__title {
    margin: 0;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--admin-text);
}

.admin-card__subtitle {
    margin: var(--space-xs) 0 0;
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.admin-card__body {
    padding: var(--space-lg);
}

.admin-card__footer {
    padding: var(--space-md) var(--space-lg);
    border-top: 1px solid var(--admin-border);
    background: var(--admin-bg-tertiary);
}

/* =============================================================================
   FORMS
   ============================================================================= */
.admin-form-group {
    margin-bottom: var(--space-lg);
}

.admin-label {
    display: block;
    margin-bottom: var(--space-sm);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text);
}

.admin-label--required::after {
    content: ' *';
    color: var(--admin-error);
}

.admin-input,
.admin-select,
.admin-textarea {
    width: 100%;
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-tertiary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    color: var(--admin-text);
    font-size: var(--font-size-base);
    font-family: inherit;
    transition: all var(--transition-fast);
    box-sizing: border-box;
}

.admin-input:focus,
.admin-select:focus,
.admin-textarea:focus {
    outline: none;
    border-color: var(--admin-accent);
    box-shadow: 0 0 0 3px var(--admin-accent-muted);
}

.admin-input::placeholder {
    color: var(--admin-text-light);
}

.admin-textarea {
    min-height: 120px;
    resize: vertical;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
}

.admin-checkbox-group {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
}

.admin-checkbox {
    width: 18px;
    height: 18px;
    accent-color: var(--admin-accent);
    cursor: pointer;
}

.admin-checkbox-label {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
}

.admin-hint {
    margin-top: var(--space-xs);
    font-size: var(--font-size-xs);
    color: var(--admin-text-light);
}

.admin-error-message {
    margin-top: var(--space-xs);
    font-size: var(--font-size-sm);
    color: var(--admin-error);
}

/* =============================================================================
   LOGIN PAGE
   ============================================================================= */
.admin-login {
    width: 100%;
    max-width: 420px;
}

.admin-login__header {
    text-align: center;
    margin-bottom: var(--space-2xl);
}

.admin-login__logo {
    width: 64px;
    height: 64px;
    color: var(--admin-accent);
    margin-bottom: var(--space-md);
}

.admin-login__title {
    margin: 0;
    font-size: var(--font-size-2xl);
    color: var(--admin-text);
}

.admin-login__subtitle {
    margin: var(--space-sm) 0 0;
    color: var(--admin-text-muted);
}

.admin-login__help {
    margin-top: var(--space-xl);
    padding: var(--space-md);
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.admin-login__help-title {
    color: var(--admin-text);
    font-weight: var(--font-weight-medium);
    margin-bottom: var(--space-xs);
}

.admin-login__help-text {
    color: var(--admin-text-muted);
    margin: 0;
}

/* =============================================================================
   PAGE HEADER
   ============================================================================= */
.admin-page-header {
    margin-bottom: var(--space-2xl);
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: var(--space-md);
}

.admin-page-header__content {
    flex: 1;
    min-width: 200px;
}

.admin-page-header__title {
    margin: 0;
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--admin-text);
}

.admin-page-header__subtitle {
    margin: var(--space-sm) 0 0;
    font-size: var(--font-size-lg);
    color: var(--admin-text-muted);
}

.admin-page-header__actions {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    flex-shrink: 0;
}

/* =============================================================================
   BADGES
   ============================================================================= */
.badge {
    display: inline-flex;
    align-items: center;
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.badge--get {
    background: var(--admin-info-bg);
    color: var(--admin-info);
}

.badge--post {
    background: var(--admin-success-bg);
    color: var(--admin-success);
}

.badge--delete {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

.badge--put {
    background: var(--admin-warning-bg);
    color: var(--admin-warning);
}

.badge--patch {
    background: #e6f3ff;
    color: #0066cc;
}

.badge--success {
    background: var(--admin-success-bg);
    color: var(--admin-success);
}

.badge--error {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

.badge--warning {
    background: var(--admin-warning-bg);
    color: var(--admin-warning);
}

.badge--info {
    background: var(--admin-info-bg);
    color: var(--admin-info);
}

/* =============================================================================
   GRID & LAYOUT UTILITIES
   ============================================================================= */
.admin-grid {
    display: grid;
    gap: var(--space-lg);
}

.admin-grid--cols-2 {
    grid-template-columns: repeat(2, 1fr);
}

.admin-grid--cols-3 {
    grid-template-columns: repeat(3, 1fr);
}

.admin-grid--cols-4 {
    grid-template-columns: repeat(4, 1fr);
}

@media (max-width: 1024px) {
    .admin-grid--cols-4 {
        grid-template-columns: repeat(2, 1fr);
    }
    .admin-grid--cols-3 {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .admin-grid--cols-2,
    .admin-grid--cols-3,
    .admin-grid--cols-4 {
        grid-template-columns: 1fr;
    }
}

/* =============================================================================
   SEARCH BAR (Command page)
   ============================================================================= */
.admin-search-bar {
    position: relative;
    margin-bottom: var(--space-xl);
}

.admin-search-bar__icon {
    position: absolute;
    left: var(--space-md);
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    color: var(--admin-text-light);
    pointer-events: none;
}

.admin-search-bar .admin-input {
    padding-left: calc(var(--space-md) + 28px);
}

.admin-categories {
    display: grid;
    gap: var(--space-sm);
}

/* =============================================================================
   API DOCUMENTATION PAGE
   ============================================================================= */
.admin-docs-quick {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-lg);
    max-width: 900px;
}

.admin-docs-item {
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
}

.admin-docs-item__title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
    margin: 0 0 var(--space-sm) 0;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.admin-docs-item__code {
    display: block;
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-accent);
    word-break: break-all;
}

.admin-docs-list {
    margin: var(--space-sm) 0 0 var(--space-lg);
    padding: 0;
    font-size: var(--font-size-sm);
}

.admin-docs-list li {
    margin-bottom: var(--space-xs);
}

.admin-docs-list code {
    background: var(--admin-bg);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
}

.admin-docs-pre {
    margin: var(--space-sm) 0 0 0;
    padding: var(--space-sm);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    overflow-x: auto;
}

.admin-docs-commands {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.admin-docs-command {
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    overflow: hidden;
}

.admin-docs-command__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    cursor: pointer;
    transition: background 0.2s;
}

.admin-docs-command__header:hover {
    background: var(--admin-surface);
}

.admin-docs-command__name {
    font-family: var(--font-mono);
    font-weight: var(--font-weight-medium);
    color: var(--admin-accent);
}

.admin-docs-command__method {
    font-size: var(--font-size-xs);
    padding: 2px 8px;
    background: var(--admin-accent);
    color: #000;
    border-radius: var(--radius-sm);
    font-weight: var(--font-weight-bold);
    margin-left: var(--space-sm);
}

.admin-docs-command__desc {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    margin-left: auto;
    margin-right: var(--space-md);
    max-width: 300px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-docs-command__toggle {
    width: 20px;
    height: 20px;
    transition: transform 0.2s;
}

.admin-docs-command--open .admin-docs-command__toggle {
    transform: rotate(180deg);
}

.admin-docs-command__body {
    display: none;
    padding: var(--space-md);
    border-top: 1px solid var(--admin-border);
}

.admin-docs-command--open .admin-docs-command__body {
    display: block;
}

.admin-docs-section {
    margin-bottom: var(--space-md);
}

.admin-docs-section:last-child {
    margin-bottom: 0;
}

.admin-docs-section__title {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
    text-transform: uppercase;
    margin: 0 0 var(--space-sm) 0;
}

.admin-docs-params {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.admin-docs-param {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-sm);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
}

.admin-docs-param__name {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-accent);
    min-width: 120px;
}

.admin-docs-param__required {
    color: var(--admin-danger);
    margin-left: var(--space-xs);
}

.admin-docs-param__type {
    font-size: var(--font-size-xs);
    padding: 2px 6px;
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
}

.admin-docs-param__desc {
    flex: 1;
    font-size: var(--font-size-sm);
    color: var(--admin-text);
}

.admin-docs-actions {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-md);
    padding-top: var(--space-md);
    border-top: 1px solid var(--admin-border);
}

.admin-docs-command--hidden {
    display: none;
}

/* =============================================================================
   HISTORY PAGE
   ============================================================================= */
.admin-filter-row {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
    align-items: flex-end;
}

.admin-filter-group {
    flex: 1;
    min-width: 150px;
}

.admin-filter-group--actions {
    display: flex;
    gap: var(--space-sm);
    flex: 0 0 auto;
}

.admin-table-wrapper {
    overflow-x: auto;
}

.admin-pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-md);
    margin-top: var(--space-lg);
}

.admin-pagination__info {
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.admin-link {
    color: var(--admin-accent);
    text-decoration: none;
}

.admin-link:hover {
    text-decoration: underline;
}

/* History Detail Modal */
.admin-modal[id="detail-modal"] {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-lg);
}

.admin-modal__backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
}

.admin-modal[id="detail-modal"] .admin-modal__content {
    position: relative;
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-lg);
    max-width: 800px;
    width: 100%;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.admin-modal__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
}

.admin-modal__close {
    background: none;
    border: none;
    color: var(--admin-text-muted);
    cursor: pointer;
    padding: var(--space-xs);
}

.admin-modal__close:hover {
    color: var(--admin-text);
}

.admin-modal__body {
    padding: var(--space-lg);
    overflow-y: auto;
}

.admin-modal__body h4 {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    margin: var(--space-lg) 0 var(--space-sm) 0;
}

.admin-detail-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.admin-detail-item label {
    display: block;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    margin-bottom: var(--space-xs);
    text-transform: uppercase;
}

.admin-detail-item code {
    background: var(--admin-bg);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
}

@media (max-width: 768px) {
    .admin-detail-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* =============================================================================
   STRUCTURE PAGE
   ============================================================================= */
.admin-structure-tree {
    max-height: 600px;
    overflow: auto;
    font-family: var(--font-family-mono);
    font-size: var(--font-size-sm);
}

.admin-tree {
    list-style: none;
    margin: 0;
    padding-left: var(--space-lg);
}

.admin-tree:first-child {
    padding-left: 0;
}

.admin-tree__item {
    position: relative;
}

.admin-tree__item--has-children > .admin-tree {
    display: none;
}

.admin-tree__item--has-children.admin-tree__item--expanded > .admin-tree {
    display: block;
}

.admin-tree__row {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: background var(--transition-fast);
}

.admin-tree__row:hover {
    background: var(--admin-bg-tertiary);
}

.admin-tree__row--selected {
    background: var(--admin-accent-muted);
}

.admin-tree__toggle {
    width: 16px;
    text-align: center;
    color: var(--admin-text-muted);
    cursor: pointer;
    user-select: none;
}

.admin-tree__spacer {
    width: 16px;
}

.admin-tree__element {
    color: var(--admin-info);
}

.admin-tree__attr-id {
    color: var(--admin-warning);
}

.admin-tree__attr-class {
    color: var(--admin-success);
}

.admin-tree__node-id {
    color: var(--admin-text-light);
    font-size: var(--font-size-xs);
}

.admin-tree__text {
    color: var(--admin-text-muted);
    font-style: italic;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-tree__trans {
    color: var(--admin-accent);
}

.admin-tree__component {
    color: var(--admin-warning);
    font-weight: 500;
}

/* Node Details Panel */
.admin-node-details {
    position: fixed;
    top: calc(var(--admin-header-height) + var(--space-lg));
    right: var(--space-lg);
    width: 360px;
    max-height: calc(100vh - var(--admin-header-height) - var(--space-2xl));
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    z-index: 50;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.admin-node-details__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
}

.admin-node-details__header h3 {
    margin: 0;
    font-size: var(--font-size-base);
    color: var(--admin-text);
}

.admin-node-details__close {
    background: none;
    border: none;
    color: var(--admin-text-muted);
    font-size: var(--font-size-xl);
    cursor: pointer;
    padding: 0;
    line-height: 1;
}

.admin-node-details__close:hover {
    color: var(--admin-text);
}

.admin-node-details__body {
    padding: var(--space-lg);
    overflow-y: auto;
    flex: 1;
}

.admin-node-details__json {
    margin: 0;
    padding: var(--space-sm);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    white-space: pre-wrap;
    word-break: break-all;
}

.admin-node-details__actions {
    margin-top: var(--space-lg);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--admin-border);
}

.admin-definition-list dt {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    margin-bottom: 2px;
}

.admin-definition-list dd {
    margin: 0 0 var(--space-md) 0;
}

.admin-definition-list dd code {
    background: var(--admin-bg);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    color: var(--admin-accent);
}

/* =============================================================================
   AI BROWSER PAGE
   ============================================================================= */
.ai-browser {
    padding: var(--space-lg);
}

.ai-browser__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.ai-browser__actions {
    display: flex;
    gap: var(--space-sm);
}

.ai-browser__title {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    color: var(--admin-text);
    margin-bottom: var(--space-sm);
}

.ai-browser__subtitle {
    color: var(--admin-text-muted);
    font-size: var(--font-size-lg);
}

.ai-browser__intro {
    background: var(--admin-card-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    margin-bottom: var(--space-xl);
}

.ai-browser__intro-title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-weight: 600;
    margin-bottom: var(--space-md);
    color: var(--admin-text);
}

.ai-browser__intro-steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-md);
}

.ai-browser__step {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
}

.ai-browser__step-number {
    width: 24px;
    height: 24px;
    background: var(--admin-primary);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-sm);
    font-weight: 600;
    flex-shrink: 0;
}

.ai-browser__step-text {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

/* AI Category */
.ai-category {
    margin-bottom: var(--space-xl);
}

.ai-category__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid var(--admin-border);
}

.ai-category__icon {
    font-size: var(--font-size-xl);
}

.ai-category__title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--admin-text);
}

.ai-category__count {
    background: var(--admin-bg-tertiary);
    color: var(--admin-text-muted);
    padding: 2px 8px;
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    margin-left: auto;
}

.ai-category--hidden {
    display: none;
}

/* AI Spec Cards Grid */
.ai-specs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-md);
}

.ai-spec-card {
    background: var(--admin-card-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
    transition: all 0.2s ease;
    cursor: pointer;
    text-decoration: none;
    color: inherit;
    display: block;
}

.ai-spec-card:hover {
    border-color: var(--admin-primary);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.ai-spec-card--hidden {
    display: none;
}

.ai-spec-card__header {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.ai-spec-card__icon {
    font-size: var(--font-size-2xl);
    line-height: 1;
}

.ai-spec-card__title {
    font-weight: 600;
    color: var(--admin-text);
    font-size: var(--font-size-md);
}

.ai-spec-card__desc {
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    line-height: 1.5;
    margin-bottom: var(--space-md);
}

.ai-spec-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
}

.ai-spec-card__tag {
    background: var(--admin-bg-tertiary);
    color: var(--admin-text-muted);
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
}

.ai-spec-card__difficulty {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: var(--font-size-xs);
    padding: 2px 8px;
    border-radius: var(--radius-sm);
}

.ai-spec-card__difficulty--beginner {
    background: #dcfce7;
    color: #166534;
}

.ai-spec-card__difficulty--intermediate {
    background: #fef3c7;
    color: #92400e;
}

.ai-spec-card__difficulty--advanced {
    background: #fee2e2;
    color: #991b1b;
}

/* AI Browser Filters */
.ai-browser__filters {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-xl);
    flex-wrap: wrap;
}

.ai-browser__search {
    min-width: 250px;
    position: relative;
    margin-bottom: 10px;
}

.ai-browser__search-input {
    padding: var(--space-sm) var(--space-md) var(--space-sm) 40px;
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
}

.ai-browser__search-input:focus {
    outline: none;
    border-color: var(--admin-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.ai-browser__search-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--admin-text-muted);
    pointer-events: none;
}

.ai-browser__tags {
    gap: var(--space-xs);
    flex-wrap: wrap;
    align-items: center;
}

.ai-browser__tag-btn {
    padding: 6px 12px;
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-full);
    background: var(--admin-card-bg);
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
    cursor: pointer;
    transition: all 0.2s ease;
}

.ai-browser__tag-btn:hover {
    border-color: var(--admin-primary);
    color: var(--admin-primary);
}

.ai-browser__tag-btn--active {
    background: var(--admin-primary);
    border-color: var(--admin-primary);
    color: white;
}

.ai-browser__tag-btn--active:hover {
    background: var(--admin-primary-dark, #2563eb);
    color: white;
}

.ai-browser__no-results {
    text-align: center;
    padding: var(--space-xl);
    color: var(--admin-text-muted);
    display: none;
}

/* AI Empty State */
.ai-empty-state {
    text-align: center;
    padding: var(--space-2xl);
    color: var(--admin-text-muted);
}

.ai-empty-state__icon {
    font-size: 3rem;
    margin-bottom: var(--space-md);
    opacity: 0.5;
}

/* =============================================================================
   AI EDITOR PAGE
   ============================================================================= */
.ai-editor {
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--space-lg);
}

.ai-editor__breadcrumb {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-lg);
}

.ai-editor__breadcrumb a {
    color: var(--admin-primary);
    text-decoration: none;
}

.ai-editor__breadcrumb a:hover {
    text-decoration: underline;
}

.ai-editor__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
}

.ai-editor__title {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    color: var(--admin-text);
}

.ai-editor__actions {
    display: flex;
    gap: var(--space-sm);
}

.ai-editor__layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
}

@media (max-width: 1200px) {
    .ai-editor__layout {
        grid-template-columns: 1fr;
    }
}

.ai-editor-panel {
    background: var(--admin-card-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.ai-editor-panel__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md) var(--space-lg);
    background: var(--admin-bg-secondary);
    border-bottom: 1px solid var(--admin-border);
}

.ai-editor-panel__title {
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.ai-editor-panel__body {
    padding: 0;
}

.ai-editor-textarea {
    width: 100%;
    min-height: 400px;
    padding: var(--space-md);
    border: none;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    line-height: 1.6;
    background: var(--admin-bg);
    color: var(--admin-text);
    resize: vertical;
}

.ai-editor-textarea:focus {
    outline: none;
    background: var(--admin-card-bg);
}

.ai-editor-tabs {
    display: flex;
    border-bottom: 1px solid var(--admin-border);
}

.ai-editor-tab {
    padding: var(--space-sm) var(--space-md);
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    cursor: pointer;
    transition: all 0.2s ease;
}

.ai-editor-tab:hover {
    color: var(--admin-text);
}

.ai-editor-tab--active {
    color: var(--admin-primary);
    border-bottom-color: var(--admin-primary);
}

.ai-editor-tab-content {
    display: none;
}

.ai-editor-tab-content--active {
    display: block;
}

.ai-editor-validation {
    padding: var(--space-md) var(--space-lg);
    border-top: 1px solid var(--admin-border);
    font-size: var(--font-size-sm);
}

.ai-editor-validation--valid {
    background: #ecfdf5;
    color: #065f46;
}

.ai-editor-validation--invalid {
    background: #fef2f2;
    color: #991b1b;
}

.ai-editor-validation__title {
    font-weight: 600;
    margin-bottom: var(--space-xs);
}

.ai-editor-validation__list {
    margin: 0;
    padding-left: var(--space-lg);
}

/* Preview panel */
.ai-editor-preview {
    min-height: 400px;
    padding: var(--space-md);
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    line-height: 1.6;
    background: var(--admin-bg);
    color: var(--admin-text);
    white-space: pre-wrap;
    word-wrap: break-word;
    overflow-y: auto;
}

.ai-editor-preview--empty {
    color: var(--admin-text-muted);
    text-align: center;
    padding: var(--space-2xl);
}

/* Error state */
.ai-editor-error {
    text-align: center;
    padding: var(--space-2xl);
}

.ai-editor-error__icon {
    font-size: 4rem;
    margin-bottom: var(--space-lg);
}

/* Info panel */
.ai-editor-info {
    background: #eff6ff;
    border: 1px solid #bfdbfe;
    border-radius: var(--radius-md);
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
    font-size: var(--font-size-sm);
}

.ai-editor-info__title {
    font-weight: 600;
    color: #1e40af;
    margin-bottom: var(--space-xs);
}

.ai-editor-info__text {
    color: #1e3a8a;
}

/* Save success/error */
.ai-editor-message {
    position: fixed;
    top: 80px;
    right: 20px;
    padding: var(--space-md) var(--space-lg);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    z-index: 1000;
    animation: aiEditorSlideIn 0.3s ease;
}

@keyframes aiEditorSlideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

.ai-editor-message--success {
    background: #ecfdf5;
    color: #065f46;
    border: 1px solid #a7f3d0;
}

.ai-editor-message--error {
    background: #fef2f2;
    color: #991b1b;
    border: 1px solid #fecaca;
}

/* =============================================================================
   SETTINGS PAGE
   ============================================================================= */
.admin-definition-list {
    margin: 0;
}

.admin-definition-list dt {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    margin-bottom: var(--space-xs);
}

.admin-definition-list dd {
    margin: 0 0 var(--space-md) 0;
    font-size: var(--font-size-base);
}

.admin-definition-list dd code {
    background: var(--admin-bg);
    padding: 2px 8px;
    border-radius: var(--radius-sm);
}

.admin-badge {
    display: inline-flex;
    align-items: center;
    padding: 4px 10px;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-full);
}

.admin-badge--success {
    background: var(--admin-success-bg);
    color: var(--admin-success);
}

.admin-badge--info {
    background: var(--admin-info-bg);
    color: var(--admin-info);
}

.admin-badge--warning {
    background: var(--admin-warning-bg, #fef3c7);
    color: var(--admin-warning, #d97706);
}

.admin-badge--error {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

.admin-badge--muted {
    background: var(--admin-bg-tertiary);
    color: var(--admin-text-muted);
}

.admin-tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.admin-tag {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-bg-tertiary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.admin-tag code {
    color: var(--admin-accent);
}

.admin-tag--primary {
    border-color: var(--admin-accent);
    background: var(--admin-accent-muted);
}

.admin-tag__action {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    margin-left: var(--space-xs);
    color: var(--admin-text-muted);
    text-decoration: none;
    border-radius: 50%;
    transition: all var(--transition-fast);
}

.admin-tag__action:hover {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

.admin-tag__badge {
    font-size: var(--font-size-xs);
    padding: 2px 6px;
    background: var(--admin-accent);
    color: white;
    border-radius: var(--radius-sm);
    margin-left: var(--space-xs);
}

/* Toggle styles */
.admin-toggle-group {
    margin-bottom: var(--space-sm);
}

.admin-toggle {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    cursor: pointer;
}

.admin-toggle input {
    display: none;
}

.admin-toggle__slider {
    position: relative;
    width: 44px;
    height: 24px;
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-full);
    transition: background var(--transition-fast);
}

.admin-toggle__slider::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    background: white;
    border-radius: 50%;
    transition: transform var(--transition-fast);
}

.admin-toggle input:checked + .admin-toggle__slider {
    background: var(--admin-accent);
}

.admin-toggle input:checked + .admin-toggle__slider::after {
    transform: translateX(20px);
}

.admin-toggle__label {
    font-size: var(--font-size-sm);
    color: var(--admin-text);
}

kbd {
    display: inline-block;
    padding: 2px 6px;
    font-family: var(--font-family-mono);
    font-size: var(--font-size-xs);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
}

/* Language list styles */
.admin-lang-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.admin-lang-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    transition: border-color var(--transition-fast);
}

.admin-lang-item--default {
    border-color: var(--admin-accent);
    background: var(--admin-accent-muted);
}

.admin-lang-info {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.admin-lang-code {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    color: var(--admin-accent);
    min-width: 2.5rem;
}

.admin-lang-name {
    font-size: var(--font-size-sm);
    color: var(--admin-text);
}

/* =============================================================================
   AI SETTINGS PAGE
   ============================================================================= */
.provider-card {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-sm);
}

.provider-card--default {
    border: 2px solid var(--admin-accent);
}

.provider-card__info {
    flex: 1;
}

.provider-card__name {
    font-weight: 600;
    margin: 0 0 4px 0;
    display: flex;
    align-items: center;
    gap: 8px;
}

.provider-card__meta {
    font-size: 0.875rem;
    color: var(--admin-text-muted);
    margin: 0;
}

.provider-card__actions {
    display: flex;
    gap: var(--space-xs);
}

.provider-card__star {
    color: var(--admin-text-muted);
    cursor: pointer;
    padding: 4px;
}

.provider-card__star:hover,
.provider-card__star--active {
    color: #ffc107;
}

.admin-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.admin-modal__backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
}

.admin-modal__content {
    position: relative;
    background: var(--admin-bg);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
    width: 90%;
    max-height: 90vh;
    overflow: auto;
}

.admin-modal__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md);
    border-bottom: 1px solid var(--admin-border);
}

.admin-modal__title {
    margin: 0;
}

.admin-modal__close {
    background: none;
    border: none;
    cursor: pointer;
    color: var(--admin-text-muted);
    padding: 4px;
}

.admin-modal__close:hover {
    color: var(--admin-text);
}

.admin-modal__body {
    padding: var(--space-md);
}

.admin-modal__footer {
    display: flex;
    justify-content: flex-end;
    gap: var(--space-sm);
    padding: var(--space-md);
    border-top: 1px solid var(--admin-border);
}

.no-providers {
    text-align: center;
    padding: var(--space-lg);
    color: var(--admin-text-muted);
}

.no-providers svg {
    width: 48px;
    height: 48px;
    margin-bottom: var(--space-sm);
    opacity: 0.5;
}

/* Model checkbox group styles */
.model-checkbox-group {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-xs);
}

.model-checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: background-color 0.15s ease;
}

.model-checkbox:hover {
    background: var(--admin-bg-secondary);
}

.model-checkbox--default {
    background: color-mix(in srgb, var(--admin-accent) 10%, transparent);
    border-left: 3px solid var(--admin-accent);
}

.model-checkbox input[type="checkbox"] {
    width: 18px;
    height: 18px;
    flex-shrink: 0;
    accent-color: var(--admin-accent);
}

.model-checkbox__label {
    flex: 1;
    font-size: 0.9rem;
    cursor: pointer;
    user-select: none;
}

.admin-link {
    background: none;
    border: none;
    color: var(--admin-accent);
    cursor: pointer;
    padding: 0;
    font-size: inherit;
    text-decoration: underline;
}

.admin-link:hover {
    text-decoration: none;
}

/* =============================================================================
   DASHBOARD PAGE
   ============================================================================= */
.admin-section {
    margin-bottom: var(--space-2xl);
}

.admin-section__title {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    margin: 0 0 var(--space-lg) 0;
    color: var(--admin-text);
}

.admin-section__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-lg);
}

.admin-section__header .admin-section__title {
    margin: 0;
}

/* Sitemap Styles */
.sitemap {
    padding: var(--space-md);
}

.sitemap__summary {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-lg);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.sitemap__total {
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text);
}

.sitemap__divider {
    color: var(--admin-border);
}

.sitemap__languages {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.sitemap__lang {
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    overflow: hidden;
    transition: border-color var(--transition-fast);
}

.sitemap__lang:hover {
    border-color: var(--admin-accent);
}

.sitemap__lang-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: var(--admin-surface);
    cursor: pointer;
    user-select: none;
    transition: background var(--transition-fast);
}

.sitemap__lang-header:hover {
    background: var(--admin-bg-tertiary);
}

.sitemap__lang-toggle {
    color: var(--admin-text-muted);
    transition: transform var(--transition-fast);
    flex-shrink: 0;
}

.sitemap__lang--open .sitemap__lang-toggle {
    transform: rotate(90deg);
}

.sitemap__lang-flag {
    font-size: 1.25em;
    line-height: 1;
}

.sitemap__lang-name {
    font-weight: var(--font-weight-medium);
    color: var(--admin-text);
    flex: 1;
}

.sitemap__lang-count {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.sitemap__lang-coverage {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    padding: 2px 8px;
    border-radius: var(--radius-full);
}

.sitemap__coverage--excellent {
    background: var(--admin-success-bg);
    color: var(--admin-success);
}

.sitemap__coverage--good {
    background: rgba(34, 197, 94, 0.15);
    color: #16a34a;
}

.sitemap__coverage--warning {
    background: var(--admin-warning-bg);
    color: var(--admin-warning);
}

.sitemap__coverage--poor {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

.sitemap__routes {
    display: none;
    padding: var(--space-sm);
    background: var(--admin-bg);
    border-top: 1px solid var(--admin-border);
}

.sitemap__lang--open .sitemap__routes {
    display: block;
}

.sitemap__route {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    color: var(--admin-text);
    text-decoration: none;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
}

.sitemap__route:hover {
    background: var(--admin-surface);
    color: var(--admin-accent);
}

.sitemap__route-icon {
    color: var(--admin-text-muted);
    flex-shrink: 0;
}

.sitemap__route:hover .sitemap__route-icon {
    color: var(--admin-accent);
}

.sitemap__route-name {
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
}

.sitemap__route-path {
    flex: 1;
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    text-align: right;
}

.sitemap__route-external {
    color: var(--admin-text-muted);
    opacity: 0;
    transition: opacity var(--transition-fast);
    flex-shrink: 0;
}

.sitemap__route:hover .sitemap__route-external {
    opacity: 1;
}

/* Flat routes list for monolingual mode */
.sitemap__routes--flat {
    display: block;
    padding: var(--space-sm);
    background: var(--admin-surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--admin-border);
}

/* Tree view styles */
.sitemap__routes--tree {
    display: block;
}

.sitemap__tree-node {
    margin-left: calc(var(--depth, 0) * var(--space-md));
}

.sitemap__tree-header {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.sitemap__tree-toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 20px;
    height: 20px;
    padding: 0;
    border: none;
    background: none;
    color: var(--admin-text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
    flex-shrink: 0;
}

.sitemap__tree-toggle:hover {
    background: var(--admin-bg-tertiary);
    color: var(--admin-text);
}

.sitemap__tree-toggle svg {
    transition: transform var(--transition-fast);
}

.sitemap__tree-node--open > .sitemap__tree-header > .sitemap__tree-toggle svg {
    transform: rotate(90deg);
}

.sitemap__tree-children {
    display: none;
    margin-left: var(--space-sm);
    padding-left: var(--space-sm);
    border-left: 1px dashed var(--admin-border);
}

.sitemap__tree-node--open > .sitemap__tree-children {
    display: block;
}

.sitemap__route--leaf {
    margin-left: calc(var(--depth, 0) * var(--space-md) + 24px);
}

.sitemap__route--parent {
    flex: 1;
}

/* Responsive sitemap */
@media (max-width: 600px) {
    .sitemap__summary {
        flex-wrap: wrap;
        gap: var(--space-xs);
    }
    
    .sitemap__route-path {
        display: none;
    }
}

/* Project Manager Styles */
.project-manager {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
    padding: var(--space-md);
}

.project-manager__current {
    min-height: 50px;
}

.project-manager__info {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.project-manager__name {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text);
}

.project-manager__name svg {
    color: var(--admin-accent);
}

.project-manager__meta {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    margin-left: 28px;
}

.project-manager__actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    padding-top: var(--space-md);
    border-top: 1px solid var(--admin-border);
}

.project-manager__action-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.project-manager__select-row {
    display: flex;
    gap: var(--space-sm);
}

.project-manager__select-row select {
    flex: 1;
}

.project-manager__quick-actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    align-items: center;
}

.project-manager__quick-actions .admin-btn {
    flex: 0 0 auto;
    min-width: auto;
    justify-content: center;
}

.project-manager__action-divider {
    width: 1px;
    height: 24px;
    background: var(--admin-border);
    margin: 0 var(--space-xs);
}

/* Backup List Styles */
.backup-empty {
    text-align: center;
    padding: var(--space-2xl) var(--space-lg);
}

.backup-summary {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-md);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.backup-summary__divider {
    color: var(--admin-border);
}

.backup-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.backup-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    transition: border-color 0.15s ease;
}

.backup-item:hover {
    border-color: var(--admin-primary);
}

.backup-item__info {
    flex: 1;
    min-width: 0;
    overflow: hidden;
}

.backup-item__name {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-weight: var(--font-weight-medium);
    margin-bottom: var(--space-xs);
    flex-wrap: wrap;
}

.backup-item__name span {
    word-break: break-word;
}

.backup-item__name svg {
    flex-shrink: 0;
    color: var(--admin-text-muted);
}

.backup-item__meta {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    flex-wrap: wrap;
}

.backup-item__divider {
    color: var(--admin-border);
}

.backup-item__actions {
    display: flex;
    gap: var(--space-xs);
    justify-content: flex-end;
}

/* Storage Overview Styles */
.storage-overview {
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    padding: var(--space-lg);
}

.storage-overview__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.storage-overview__title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--font-size-md);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text);
    margin: 0;
}

.storage-overview__title svg {
    color: var(--admin-text-muted);
}

.storage-overview__total {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--admin-text);
}

.storage-overview__bar {
    display: flex;
    height: 24px;
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-md);
    overflow: hidden;
    margin-bottom: var(--space-md);
}

.storage-overview__segment {
    height: 100%;
    transition: width 0.5s ease;
    min-width: 0;
}

.storage-overview__segment--projects {
    background: var(--admin-primary, #3b82f6);
}

.storage-overview__segment--backups {
    background: var(--admin-success, #22c55e);
}

.storage-overview__segment--admin {
    background: var(--admin-warning, #f59e0b);
}

.storage-overview__segment--other {
    background: var(--admin-text-muted, #6b7280);
}

.storage-overview__legend {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md) var(--space-xl);
}

.storage-overview__legend-item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.storage-overview__legend-color {
    width: 12px;
    height: 12px;
    border-radius: var(--radius-sm);
    flex-shrink: 0;
}

.storage-overview__legend-color--projects {
    background: var(--admin-primary, #3b82f6);
}

.storage-overview__legend-color--backups {
    background: var(--admin-success, #22c55e);
}

.storage-overview__legend-color--admin {
    background: var(--admin-warning, #f59e0b);
}

.storage-overview__legend-color--other {
    background: var(--admin-text-muted, #6b7280);
}

.storage-overview__legend-label {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.storage-overview__legend-value {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text);
}

/* Responsive project manager */
@media (max-width: 600px) {
    .project-manager__select-row {
        flex-direction: column;
    }
    
    .project-manager__quick-actions {
        flex-direction: column;
    }
    
    .project-manager__quick-actions .admin-btn {
        min-width: auto;
    }
    
    .storage-overview__header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-xs);
    }
    
    .storage-overview__legend {
        gap: var(--space-sm) var(--space-md);
    }
}

/* =============================================================================
   BATCH PAGE
   ============================================================================= */
.admin-batch-queue {
    min-height: 200px;
    max-height: 400px;
    overflow-y: auto;
}

.admin-batch-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-sm);
}

.admin-batch-item__order {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--admin-accent);
    color: #000;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-bold);
    flex-shrink: 0;
}

.admin-batch-item__name {
    flex: 1;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
}

.admin-batch-item__params {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-batch-item__actions {
    display: flex;
    gap: var(--space-xs);
}

.admin-batch-item__btn {
    padding: var(--space-xs);
    background: transparent;
    border: none;
    color: var(--admin-text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: all 0.2s;
}

.admin-batch-item__btn:hover {
    background: var(--admin-surface);
    color: var(--admin-text);
}

.admin-batch-item__btn--danger:hover {
    color: var(--admin-danger);
}

.admin-batch-item--running {
    border-color: var(--admin-accent);
    animation: batch-pulse 1s infinite;
}

.admin-batch-item--success {
    border-color: var(--admin-success);
}

.admin-batch-item--error {
    border-color: var(--admin-danger);
}

@keyframes batch-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

.admin-batch-commands {
    max-height: 400px;
    overflow-y: auto;
}

.admin-batch-category {
    margin-bottom: var(--space-md);
}

.admin-batch-category__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    border-bottom: 1px solid var(--admin-border);
    margin-bottom: var(--space-sm);
}

.admin-batch-category__label {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
}

.admin-batch-category__count {
    font-size: var(--font-size-xs);
    padding: 2px 6px;
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
    color: var(--admin-text-light);
}

.admin-batch-category__commands {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
}

.admin-batch-add {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    color: var(--admin-text);
    cursor: pointer;
    transition: all 0.2s;
}

.admin-batch-add:hover {
    border-color: var(--admin-accent);
    background: var(--admin-surface);
}

.admin-batch-add__icon {
    width: 14px;
    height: 14px;
    color: var(--admin-accent);
}

.admin-batch-results {
    max-height: 400px;
    overflow-y: auto;
}

.admin-batch-result {
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-sm);
}

.admin-batch-result__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.admin-batch-result__status {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.admin-batch-result__status--success {
    background: var(--admin-success);
}

.admin-batch-result__status--error {
    background: var(--admin-danger);
}

.admin-batch-result__command {
    font-family: var(--font-mono);
    font-weight: var(--font-weight-medium);
}

.admin-batch-result__time {
    margin-left: auto;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.admin-batch-result__output {
    font-size: var(--font-size-sm);
    padding: var(--space-sm);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    max-height: 150px;
    overflow-y: auto;
}

.admin-batch-result__output pre {
    margin: 0;
    white-space: pre-wrap;
    word-break: break-word;
}

.admin-empty--compact {
    padding: var(--space-xl);
}

.admin-empty--compact .admin-empty__icon {
    width: 48px;
    height: 48px;
    margin-bottom: var(--space-md);
}

/* JSON Import Section */
.admin-card__header--collapsible {
    cursor: pointer;
    user-select: none;
    transition: background 0.2s;
}

.admin-card__header--collapsible:hover {
    background: var(--admin-bg-secondary);
}

.admin-card__toggle {
    transition: transform 0.2s;
}

.admin-card__toggle--open {
    transform: rotate(180deg);
}

.admin-textarea--code {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    line-height: 1.5;
    resize: vertical;
}

.admin-json-preview {
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
}

.admin-json-preview__title {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
    margin-bottom: var(--space-sm);
}

.admin-json-preview__list {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.admin-json-preview__item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
}

.admin-json-preview__item--valid {
    border-left: 3px solid var(--admin-success);
}

.admin-json-preview__item--invalid {
    border-left: 3px solid var(--admin-danger);
}

.admin-json-preview__cmd {
    font-family: var(--font-mono);
    color: var(--admin-accent);
}

.admin-json-preview__params {
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
}

.admin-json-preview__error {
    color: var(--admin-danger);
    font-size: var(--font-size-xs);
}

/* Templates Section */
.admin-templates-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
}

.admin-template {
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    transition: all 0.2s;
}

.admin-template:hover {
    border-color: var(--admin-accent);
}

.admin-template__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.admin-template__icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    flex-shrink: 0;
    position: relative;
}

.admin-template__icon img {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
}

.admin-template__icon--combo {
    width: 3rem;
}

.admin-template__icon-main {
    max-width: 2.5rem;
    max-height: 2.5rem;
}

.admin-template__icon-badge {
    position: absolute;
    bottom: -2px;
    right: -4px;
    max-width: 1.5rem !important;
    max-height: 1.5rem !important;
}

.admin-template__title {
    font-weight: var(--font-weight-medium);
}

.admin-template__badge {
    font-size: 0.65rem;
    font-weight: var(--font-weight-medium);
    text-transform: uppercase;
    padding: 0.15rem 0.4rem;
    background: var(--admin-accent);
    color: white;
    border-radius: var(--radius-sm);
    margin-left: auto;
}

.admin-template--dynamic {
    border-color: var(--admin-accent);
    background: linear-gradient(135deg, var(--admin-card-bg) 0%, rgba(79, 70, 229, 0.05) 100%);
}

.admin-template--dynamic:hover {
    border-color: var(--admin-accent);
    box-shadow: 0 2px 8px rgba(79, 70, 229, 0.15);
}

.admin-template__desc {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    margin-bottom: var(--space-md);
    line-height: 1.5;
}

.admin-template__actions {
    display: flex;
    gap: var(--space-sm);
}

.admin-template-preview {
    margin-top: var(--space-lg);
    padding: var(--space-md);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
}

.admin-template-preview__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.admin-template-preview__actions {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: var(--space-md);
}

/* =============================================================================
   AI PAGE
   ============================================================================= */

.admin-ai-intro p {
    margin-bottom: var(--space-md);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.admin-ai-steps {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: var(--space-md);
}

.admin-ai-step {
    display: flex;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
}

.admin-ai-step__number {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--admin-accent);
    color: #000;
    border-radius: 50%;
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-sm);
    flex-shrink: 0;
}

.admin-ai-step__content {
    flex: 1;
}

.admin-ai-step__content strong {
    display: block;
    margin-bottom: var(--space-xs);
    font-size: var(--font-size-sm);
}

.admin-ai-step__content p {
    margin: 0;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

/* Filter Bar */
.admin-ai-filter-bar {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
    padding: var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-lg);
    position: relative;
}

.admin-ai-search {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    width: 100%;
    box-sizing: border-box;
    position: relative;
    z-index: 2;
}

.admin-ai-search svg {
    color: var(--admin-text-muted);
    flex-shrink: 0;
}

.admin-ai-search__input {
    flex: 1;
    min-width: 0;
    width: 100%;
    border: none;
    background: transparent;
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    outline: none;
}

.admin-ai-search__input::placeholder {
    color: var(--admin-text-muted);
}

.admin-ai-tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    width: 100%;
    position: relative;
    z-index: 1;
    margin-top: 0;
}

.admin-ai-tag {
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-full);
    color: var(--admin-text-secondary);
    cursor: pointer;
    transition: all 0.15s;
}

.admin-ai-tag:hover {
    border-color: var(--admin-accent);
    color: var(--admin-accent);
}

.admin-ai-tag--active {
    background: var(--admin-accent);
    border-color: var(--admin-accent);
    color: #000;
}

/* Specs Container */
.admin-ai-specs-container {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
}

/* Section */
.admin-ai-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.admin-ai-section[data-visible="false"] {
    display: none;
}

.admin-ai-section__title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    color: var(--admin-text);
}

.admin-ai-section__icon {
    font-size: var(--font-size-xl);
}

.admin-ai-section__hint {
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-normal);
    color: var(--admin-text-muted);
    margin-left: var(--space-xs);
}

/* Specs Grid */
.admin-ai-specs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-md);
}

.admin-ai-specs-grid:empty::after {
    content: 'No specs match your search';
    grid-column: 1 / -1;
    text-align: center;
    padding: var(--space-lg);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

/* Spec Card */
.admin-ai-spec-card {
    display: flex;
    flex-direction: column;
    padding: var(--space-md);
    background: var(--admin-bg);
    border: 2px solid var(--admin-border);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all 0.2s;
}

.admin-ai-spec-card:hover {
    border-color: var(--admin-accent);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.admin-ai-spec-card__header {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.admin-ai-spec-card__icon {
    font-size: var(--font-size-xl);
    line-height: 1;
}

.admin-ai-spec-card__title {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
}

.admin-ai-spec-card__desc {
    flex: 1;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    line-height: 1.4;
    margin-bottom: var(--space-sm);
}

.admin-ai-spec-card__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-top: auto;
}

.admin-ai-spec-card__tag {
    padding: 2px 6px;
    font-size: 10px;
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
}

/* Selected Spec Panel */
.admin-ai-selected-spec {
    margin-top: var(--space-lg);
    padding: var(--space-lg);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-lg);
    border: 2px solid var(--admin-accent);
}

.admin-ai-selected-spec__header {
    display: flex;
    align-items: center;
    gap: var(--space-lg);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--admin-border);
}

.admin-ai-back-btn {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.15s;
}

.admin-ai-back-btn:hover {
    border-color: var(--admin-accent);
    color: var(--admin-accent);
}

.admin-ai-selected-spec__info {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.admin-ai-selected-spec__icon {
    font-size: var(--font-size-xl);
}

.admin-ai-selected-spec__name {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-lg);
}

/* Spec Description */
.admin-ai-spec-desc {
    padding: var(--space-md);
    background: var(--admin-bg);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-lg);
}

.admin-ai-spec-desc p {
    margin: 0;
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

/* Actions */
.admin-ai-spec-actions {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.admin-btn--large {
    padding: var(--space-md) var(--space-xl);
    font-size: var(--font-size-base);
}

/* Preview */
.admin-ai-spec-preview {
    margin-top: var(--space-lg);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--admin-border);
}

.admin-ai-spec-stats {
    display: flex;
    gap: var(--space-lg);
    margin-bottom: var(--space-md);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.admin-ai-spec-stat {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.admin-ai-spec-stat__label {
    color: var(--admin-text-muted);
}

.admin-ai-spec-stat__value {
    font-weight: var(--font-weight-medium);
    color: var(--admin-accent);
}

.admin-textarea--code {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    line-height: 1.4;
    resize: vertical;
    background: var(--admin-bg);
}

/* Prompt Builder */
.admin-ai-prompt-builder {
    margin-top: var(--space-lg);
    padding: var(--space-lg);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--admin-border);
}

.admin-ai-prompt-builder__title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-md) 0;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-bold);
}

.admin-ai-example-selector {
    display: flex;
    align-items: center;
    gap: var(--space-md);
    margin-bottom: var(--space-md);
    flex-wrap: wrap;
}

.admin-ai-example-selector__label {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    cursor: pointer;
    font-size: var(--font-size-sm);
}

.admin-ai-example-selector__label input[type="checkbox"] {
    width: 18px;
    height: 18px;
    accent-color: var(--admin-accent);
}

.admin-ai-example-selector .admin-select {
    flex: 1;
    min-width: 200px;
    max-width: 400px;
}

.admin-ai-goal-area {
    margin-top: var(--space-sm);
}

.admin-ai-goal-area .admin-textarea {
    width: 100%;
    min-height: 150px;
    font-size: var(--font-size-sm);
    line-height: 1.6;
}

.admin-ai-goal-hints {
    margin-top: var(--space-sm);
}

.admin-ai-goal-hints .admin-hint {
    font-size: var(--font-size-xs);
}

/* Spec Actions */
.admin-ai-spec-actions {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    margin-top: var(--space-lg);
}

.admin-btn--ghost {
    background: transparent;
    border: 1px solid var(--admin-border);
    color: var(--admin-text-muted);
}

.admin-btn--ghost:hover {
    background: var(--admin-surface);
    color: var(--admin-text);
}

/* Workflow Step Badges */
.admin-ai-workflow-step {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-top: var(--space-xl);
    margin-bottom: var(--space-sm);
}

.admin-ai-workflow-step:first-of-type {
    margin-top: 0;
}

.admin-ai-workflow-step--large {
    margin-top: var(--space-xxl);
    padding-top: var(--space-lg);
    border-top: 1px solid var(--admin-border);
}

.admin-ai-step-badge {
    width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--admin-accent);
    color: #000;
    border-radius: 50%;
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-sm);
    flex-shrink: 0;
}

.admin-ai-step-label {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-base);
    color: var(--admin-text);
}

/* Import Section */
.admin-ai-import-section {
    margin-top: var(--space-md);
    padding: var(--space-lg);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-lg);
    border: 1px solid var(--admin-border);
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

.admin-ai-import-section--highlight {
    border-color: var(--admin-accent);
    box-shadow: 0 0 0 3px rgba(var(--admin-accent-rgb, 255, 215, 0), 0.2);
}

.admin-ai-import-hint {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0 0 var(--space-md) 0;
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.admin-ai-import-area {
    margin-bottom: var(--space-md);
}

.admin-ai-import-area .admin-textarea {
    width: 100%;
    font-size: var(--font-size-xs);
}

.admin-ai-import-status {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-top: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.admin-ai-import-status--valid {
    background: rgba(34, 197, 94, 0.1);
    color: #22c55e;
}

.admin-ai-import-status--invalid {
    background: rgba(239, 68, 68, 0.1);
    color: #ef4444;
}

.admin-ai-import-actions {
    display: flex;
    gap: var(--space-sm);
    flex-wrap: wrap;
    align-items: center;
}

.admin-btn--success {
    background: #22c55e;
    color: #000;
    border: none;
}

.admin-btn--success:hover:not(:disabled) {
    background: #16a34a;
}

.admin-btn--success:disabled {
    background: var(--admin-border);
    color: var(--admin-text-muted);
    cursor: not-allowed;
    opacity: 0.6;
}

/* Command Preview */
.admin-ai-preview {
    margin-top: var(--space-lg);
    padding: var(--space-md);
    background: var(--admin-bg);
    border-radius: var(--radius-lg);
    border: 2px solid var(--admin-accent);
}

.admin-ai-preview-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: 1px solid var(--admin-border);
}

.admin-ai-preview-title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0;
    font-size: var(--font-size-base);
    color: var(--admin-accent);
}

.admin-ai-preview-list {
    max-height: 300px;
    overflow-y: auto;
    margin-bottom: var(--space-md);
}

.admin-ai-preview-item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-xs);
    font-size: var(--font-size-sm);
}

.admin-ai-preview-item:last-child {
    margin-bottom: 0;
}

.admin-ai-preview-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: var(--admin-border);
    border-radius: 50%;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text-muted);
    flex-shrink: 0;
}

.admin-ai-preview-method {
    display: inline-block;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    flex-shrink: 0;
}

.admin-ai-preview-method--get {
    background: rgba(34, 197, 94, 0.15);
    color: #22c55e;
}

.admin-ai-preview-method--post {
    background: rgba(59, 130, 246, 0.15);
    color: #3b82f6;
}

.admin-ai-preview-command {
    font-family: var(--font-mono);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text);
    flex-shrink: 0;
}

.admin-ai-preview-params {
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-ai-preview-params em {
    font-style: italic;
    opacity: 0.7;
}

.admin-ai-preview-params strong {
    color: var(--admin-text);
    font-weight: var(--font-weight-medium);
}

.admin-ai-preview-actions {
    display: flex;
    gap: var(--space-sm);
    padding-top: var(--space-md);
    border-top: 1px solid var(--admin-border);
}

/* Execution Results */
.admin-ai-execution-results {
    margin-top: var(--space-lg);
    padding: var(--space-md);
    background: var(--admin-bg);
    border-radius: var(--radius-lg);
    border: 1px solid var(--admin-border);
}

.admin-ai-execution-results--success {
    border-color: #22c55e;
}

.admin-ai-execution-results--error {
    border-color: #ef4444;
}

.admin-ai-execution-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-md);
}

.admin-ai-execution-title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin: 0;
    font-size: var(--font-size-base);
    color: #22c55e;
}

.admin-ai-execution-results--error .admin-ai-execution-title {
    color: #ef4444;
}

.admin-ai-execution-summary {
    display: flex;
    gap: var(--space-lg);
    margin-bottom: var(--space-md);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.admin-ai-execution-summary__item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.admin-ai-execution-summary__item--success {
    color: #22c55e;
}

.admin-ai-execution-summary__item--error {
    color: #ef4444;
}

.admin-ai-execution-details {
    max-height: 200px;
    overflow-y: auto;
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
}

.admin-ai-execution-details__item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-xs) 0;
    border-bottom: 1px solid var(--admin-border);
}

.admin-ai-execution-details__item:last-child {
    border-bottom: none;
}

.admin-ai-execution-details__status {
    flex-shrink: 0;
    font-size: var(--font-size-sm);
}

.admin-ai-execution-details__command {
    flex: 1;
    word-break: break-all;
}

/* Page Selector for add-section spec */
.admin-ai-page-selector {
    background: var(--admin-bg-tertiary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
}

.admin-ai-page-selector__label {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-weight: 500;
    margin-bottom: var(--space-sm);
    color: var(--admin-text);
}

.admin-ai-page-selector__label .admin-required {
    color: #ef4444;
}

.admin-ai-page-selector .admin-select {
    width: 100%;
    margin-bottom: var(--space-xs);
}

.admin-ai-page-selector__hint {
    font-size: var(--font-size-sm);
    color: #f59e0b;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.admin-ai-page-selector__hint.valid {
    color: #22c55e;
}
</style>

/* =============================================================================
   AI SPEC PAGE
   ============================================================================= */
.ai-spec {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-lg);
}

.ai-spec__breadcrumb {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-lg);
}

.ai-spec__breadcrumb a {
    color: var(--admin-primary);
    text-decoration: none;
}

.ai-spec__breadcrumb a:hover {
    text-decoration: underline;
}

.ai-spec__header {
    display: flex;
    align-items: flex-start;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
    padding-bottom: var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
}

.ai-spec__icon {
    font-size: 3rem;
    line-height: 1;
}

.ai-spec__title-group {
    flex: 1;
}

.ai-spec__title {
    font-size: var(--font-size-2xl);
    font-weight: 600;
    color: var(--admin-text);
    margin-bottom: var(--space-xs);
}

.ai-spec__desc {
    color: var(--admin-text-muted);
    font-size: var(--font-size-md);
    line-height: 1.5;
}

.ai-spec__meta {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-sm);
}

.ai-spec__tag {
    background: var(--admin-bg-tertiary);
    color: var(--admin-text-muted);
    padding: 2px 10px;
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
}

.ai-spec__tag--custom {
    background: #ddd6fe;
    color: #5b21b6;
}

.ai-spec__version {
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
}

.ai-spec__layout {
    display: grid;
    grid-template-columns: 350px 1fr;
    gap: var(--space-xl);
}

@media (max-width: 900px) {
    .ai-spec__layout {
        grid-template-columns: 1fr;
    }
}

.ai-spec__sidebar {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.ai-spec__main {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

.ai-spec-card {
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    overflow: hidden;
}

.ai-spec-card__header {
    padding: var(--space-md) var(--space-lg);
    background: var(--admin-bg-secondary);
    border-bottom: 1px solid var(--admin-border);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.ai-spec-card__body {
    padding: var(--space-lg);
    overflow: hidden;
}

/* Parameter Form */
.ai-spec-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.ai-spec-form__group {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.ai-spec-form__label {
    font-weight: 500;
    color: var(--admin-text);
    font-size: var(--font-size-sm);
}

.ai-spec-form__required {
    color: #ef4444;
}

.ai-spec-form__input {
    padding: var(--space-sm) var(--space-md);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    background: var(--admin-bg);
    color: var(--admin-text);
}

.ai-spec-form__input:focus {
    outline: none;
    border-color: var(--admin-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.ai-spec-form__help {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.ai-spec-form__textarea {
    min-height: 120px;
    resize: vertical;
}

/* Checkbox */
.ai-spec-form__checkbox-group {
    flex-direction: row;
    align-items: center;
    gap: var(--space-sm);
}

.ai-spec-form__checkbox {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

.ai-spec-form__checkbox-label {
    cursor: pointer;
    font-weight: 500;
    color: var(--admin-text);
    font-size: var(--font-size-sm);
}

/* Node Selector */
.ai-spec-node-selector {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.ai-spec-node-selector__mode {
    display: flex;
    gap: var(--space-md);
    margin-bottom: var(--space-xs);
}

.ai-spec-node-selector__mode-option {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sm);
    cursor: pointer;
}

.ai-spec-node-selector__mode-option input {
    cursor: pointer;
}

.ai-spec-node-selector__select-ui {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.ai-spec-node-selector__select-ui select {
    width: 100%;
}

.ai-spec-node-selector__hint-ui input {
    width: 100%;
}

/* Conditional fields */
.ai-spec-form__group--hidden {
    display: none;
}

/* User Prompt Section */
.ai-spec-user-prompt {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-lg);
    margin-bottom: var(--space-xl);
}

@media (max-width: 900px) {
    .ai-spec-user-prompt {
        grid-template-columns: 1fr;
    }
}

.ai-spec-user-prompt--single {
    grid-template-columns: 1fr;
}

.ai-spec-user-prompt__textarea {
    width: 100%;
    max-width: 100%;
    min-height: 150px;
    padding: var(--space-md);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
    line-height: 1.6;
    background: var(--admin-bg);
    color: var(--admin-text);
    resize: vertical;
    box-sizing: border-box;
}

.ai-spec-user-prompt__textarea:focus {
    outline: none;
    border-color: var(--admin-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Examples */
.ai-spec-examples {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.ai-spec-example {
    padding: var(--space-sm) var(--space-md);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: var(--font-size-sm);
}

.ai-spec-example:hover {
    border-color: var(--admin-primary);
    background: var(--admin-bg-secondary);
}

.ai-spec-example--selected {
    border-color: var(--admin-primary);
    background: rgba(59, 130, 246, 0.1);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.ai-spec-example__title {
    font-weight: 500;
    color: var(--admin-text);
}

.ai-spec-example__desc {
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
    margin-top: 2px;
}

/* Prompt Output */
.ai-spec-prompt {
    position: relative;
}

.ai-spec-prompt__textarea {
    width: 100%;
    max-width: 100%;
    min-height: 400px;
    padding: var(--space-md);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    line-height: 1.6;
    background: var(--admin-bg);
    color: var(--admin-text);
    resize: vertical;
    box-sizing: border-box;
}

.ai-spec-prompt__actions {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-md);
    flex-wrap: wrap;
    align-items: center;
    gap: var(--space-sm);
}

.ai-spec-prompt__hint {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-sm);
}

.ai-spec-prompt__stats {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

/* API Integration Section (optional) */
.api-integration-wrapper {
    width: 100%;
    margin-top: var(--space-md);
    padding-top: var(--space-md);
    border-top: 1px dashed var(--admin-border);
}

.api-integration-divider {
    display: flex;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.api-integration-divider span {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.api-integration-controls {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    flex-wrap: wrap;
}

.api-integration-controls select {
    min-width: 200px;
    max-width: 280px;
    font-size: var(--font-size-sm);
}

.api-integration-controls select optgroup {
    font-weight: 600;
    color: var(--admin-text);
}

.api-integration-controls select option {
    font-weight: 400;
    padding-left: var(--space-sm);
}

/* Related Commands */
.ai-spec-commands {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.ai-spec-command {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: var(--admin-text);
    text-decoration: none;
}

.ai-spec-command:hover {
    background: var(--admin-primary);
    color: white;
}

/* Validation Error */
.ai-spec-validation-error {
    background: #fef2f2;
    border: 1px solid #fecaca;
    border-radius: var(--radius-md);
    padding: var(--space-md);
    margin-bottom: var(--space-lg);
}

.ai-spec-validation-error__title {
    color: #991b1b;
    font-weight: 600;
    margin-bottom: var(--space-sm);
}

.ai-spec-validation-error__list {
    color: #dc2626;
    font-size: var(--font-size-sm);
    margin: 0;
    padding-left: var(--space-lg);
}

/* Error state */
.ai-spec-error {
    text-align: center;
    padding: var(--space-2xl);
}

.ai-spec-error__icon {
    font-size: 4rem;
    margin-bottom: var(--space-lg);
}

/* Loading state */
.ai-spec-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-xl);
    color: var(--admin-text-muted);
}

.ai-spec-loading__spinner {
    width: 20px;
    height: 20px;
    border: 2px solid var(--admin-border);
    border-top-color: var(--admin-primary);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* AI Response Section */
.ai-response-hint {
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-sm);
}

.ai-response-error {
    background: #fef2f2;
    border: 1px solid #fecaca;
    border-radius: var(--radius-sm);
    padding: var(--space-sm) var(--space-md);
    color: #dc2626;
    font-size: var(--font-size-sm);
    margin-top: var(--space-sm);
}

/* Auto options */
.ai-auto-options {
    display: flex;
    gap: var(--space-md);
    margin-left: auto;
    align-items: center;
}

.ai-auto-option {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    user-select: none;
}

.ai-auto-option input[type="checkbox"] {
    width: 16px;
    height: 16px;
    accent-color: var(--admin-primary);
}

.ai-auto-option:hover {
    color: var(--admin-text);
}

/* Command Preview */
.ai-spec .command-count {
    background: var(--admin-primary);
    color: white;
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    margin-left: auto;
}

.ai-spec .command-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    max-height: 400px;
    overflow-y: auto;
}

.ai-spec .command-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
    border: 1px solid var(--admin-border);
}

.ai-spec .command-item__number {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    background: var(--admin-bg-tertiary);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--admin-text-muted);
}

.ai-spec .command-item__content {
    flex: 1;
    min-width: 0;
}

.ai-spec .command-item__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-xs);
}

.ai-spec .command-item__method {
    font-size: var(--font-size-xs);
    font-weight: 600;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    text-transform: uppercase;
}

.ai-spec .command-item__method--get {
    background: #dbeafe;
    color: #1d4ed8;
}

.ai-spec .command-item__method--post {
    background: #dcfce7;
    color: #166534;
}

.ai-spec .command-item__method--put,
.ai-spec .command-item__method--patch {
    background: #fef3c7;
    color: #92400e;
}

.ai-spec .command-item__method--delete {
    background: #fee2e2;
    color: #991b1b;
}

.ai-spec .command-item__command {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--admin-text);
}

.ai-spec .command-item__badge {
    font-size: 10px;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    background: #e0e7ff;
    color: #4338ca;
    text-transform: uppercase;
}

.ai-spec .command-item--post {
    background: var(--admin-bg-alt);
    border-left: 3px solid #6366f1;
}

.ai-spec .command-item__params {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    word-break: break-all;
}

/* Execution Results */
.execution-progress {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    color: var(--admin-text-muted);
}

.execution-results {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.result-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-md);
    padding: var(--space-sm) var(--space-md);
    border-radius: var(--radius-md);
    border: 1px solid var(--admin-border);
}

.result-item--success {
    background: #f0fdf4;
    border-color: #bbf7d0;
}

.result-item--error {
    background: #fef2f2;
    border-color: #fecaca;
}

.result-item--pending {
    background: var(--admin-bg-secondary);
    opacity: 0.6;
}

.result-item__icon {
    flex-shrink: 0;
    font-size: 1rem;
}

.result-item__content {
    flex: 1;
    min-width: 0;
}

.result-item__command {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: #1f2937;
}

.result-item--success .result-item__command {
    color: #166534;
}

.result-item--error .result-item__command {
    color: #991b1b;
}

.result-item__message {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    margin-top: 2px;
}

.result-item__error {
    font-size: var(--font-size-xs);
    color: #dc2626;
    margin-top: 2px;
}

/* Expandable details */
.result-item__toggle {
    font-size: 11px;
    color: var(--admin-primary);
    cursor: pointer;
    margin-left: 8px;
    opacity: 0.7;
    user-select: none;
}

.result-item__toggle:hover {
    opacity: 1;
    text-decoration: underline;
}

.result-item__details {
    display: none;
    margin-top: 8px;
    padding: 8px;
    background: #f8fafc;
    border-radius: 4px;
    font-family: monospace;
    font-size: 11px;
    max-height: 200px;
    overflow-y: auto;
}

.result-item__details.expanded {
    display: block;
}

.result-item__details-section {
    margin-bottom: 6px;
}

.result-item__details-label {
    font-weight: 600;
    color: #64748b;
    margin-bottom: 2px;
}

.result-item__details-value {
    white-space: pre-wrap;
    word-break: break-all;
    color: #334155;
}

/* Fresh Start Checkbox */
.fresh-start-option {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: #fffbeb;
    border: 1px solid #fcd34d;
    border-radius: var(--radius-md);
    margin-bottom: var(--space-md);
}

.fresh-start-option__checkbox {
    width: 18px;
    height: 18px;
    margin-top: 2px;
    cursor: pointer;
}

.fresh-start-option__content {
    flex: 1;
}

.fresh-start-option__label {
    font-weight: 500;
    color: var(--admin-text);
    cursor: pointer;
    display: block;
    margin-bottom: 2px;
}

.fresh-start-option__hint {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

/* Warning Modal */
.ai-spec .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
}

.ai-spec .modal-content {
    background: white;
    border-radius: var(--radius-lg);
    padding: var(--space-xl);
    max-width: 450px;
    width: 90%;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}

.ai-spec .modal-icon {
    font-size: 3rem;
    text-align: center;
    margin-bottom: var(--space-md);
}

.ai-spec .modal-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    text-align: center;
    margin-bottom: var(--space-sm);
}

.ai-spec .modal-message {
    color: var(--admin-text-muted);
    text-align: center;
    margin-bottom: var(--space-lg);
    line-height: 1.5;
}

.ai-spec .modal-actions {
    display: flex;
    gap: var(--space-sm);
    justify-content: center;
}

.ai-spec .modal-actions .admin-btn {
    min-width: 120px;
}

/* =============================================================================
   COMMAND FORM PAGE
   ============================================================================= */

.admin-breadcrumb {
    margin-bottom: var(--space-md);
}

.admin-breadcrumb__link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    color: var(--text-secondary);
    text-decoration: none;
    transition: color 0.15s ease;
}

.admin-breadcrumb__link:hover {
    color: var(--accent-color);
}

.admin-breadcrumb__icon {
    width: 18px;
    height: 18px;
}

.admin-form-actions {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-lg);
}

.admin-form-section-title {
    font-size: 1rem;
    color: var(--text-secondary);
    margin: var(--space-lg) 0 var(--space-sm);
    padding-bottom: var(--space-xs);
    border-bottom: 1px solid var(--border-color);
}

.admin-datetime-picker {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.admin-datetime-picker__inputs {
    display: flex;
    gap: var(--space-xs);
}

.admin-datetime-picker__inputs input {
    flex: 1;
}

.admin-datetime-picker__inputs input[type="date"] {
    flex: 2;
}

.admin-datetime-picker__now {
    align-self: flex-start;
    padding: var(--space-xs) var(--space-sm);
    background-color: var(--bg-tertiary);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-sm);
    font-size: 0.875rem;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.15s ease;
}

.admin-datetime-picker__now:hover {
    background-color: var(--accent-color);
    border-color: var(--accent-color);
    color: white;
}

.admin-form-group--inline {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: var(--space-sm);
}

.admin-form-group--inline label {
    margin-bottom: 0;
}

.admin-form-group--inline input[type="checkbox"] {
    width: auto;
}

@media (max-width: 768px) {
    .admin-grid--cols-2 {
        grid-template-columns: 1fr;
    }
}

/* Errors list styling for command form */
.admin-error-list {
    margin: 0;
    padding-left: var(--space-lg);
}

.admin-error-list li {
    margin-bottom: var(--space-xs);
}

.admin-error-list li:last-child {
    margin-bottom: 0;
}

/* =============================================================================
   COMMAND LIST
   ============================================================================= */
.admin-category {
    margin-bottom: var(--space-lg);
}

.admin-category__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.admin-category__header:hover {
    background: var(--admin-surface);
}

.admin-category__icon {
    width: 20px;
    height: 20px;
    color: var(--admin-accent);
}

.admin-category__title {
    flex: 1;
    margin: 0;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text);
}

.admin-category__count {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.admin-category__toggle {
    width: 20px;
    height: 20px;
    color: var(--admin-text-muted);
    transition: transform var(--transition-fast);
}

.admin-category--open .admin-category__toggle {
    transform: rotate(180deg);
}

.admin-category__commands {
    display: none;
    padding: var(--space-sm) 0 0 var(--space-xl);
}

.admin-category--open .admin-category__commands {
    display: block;
}

.admin-command-link {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    color: var(--admin-text-muted);
    text-decoration: none;
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
}

.admin-command-link:hover {
    color: var(--admin-text);
    background: var(--admin-surface);
}

.admin-command-link__name {
    flex: 1;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: var(--font-size-sm);
}

/* =============================================================================
   ALERTS & MESSAGES
   ============================================================================= */
.admin-alert {
    padding: var(--space-md);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-lg);
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
}

.admin-alert--error {
    background: var(--admin-error-bg);
    border: 1px solid rgba(194, 85, 72, 0.3);
    color: var(--admin-error);
}

.admin-alert--success {
    background: var(--admin-success-bg);
    border: 1px solid rgba(107, 142, 92, 0.3);
    color: var(--admin-success);
}

.admin-alert--warning {
    background: var(--admin-warning-bg);
    border: 1px solid rgba(212, 168, 75, 0.3);
    color: var(--admin-warning);
}

.admin-alert--info {
    background: var(--admin-info-bg);
    border: 1px solid rgba(122, 158, 184, 0.3);
    color: var(--admin-info);
}

.admin-alert__icon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
}

/* =============================================================================
   CODE & JSON DISPLAY
   ============================================================================= */
.admin-code {
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: var(--font-size-sm);
    overflow-x: auto;
    white-space: pre-wrap;
    word-break: break-all;
}

.admin-code--response {
    max-height: 400px;
    overflow-y: auto;
}

.admin-code__header {
    display: flex;
    justify-content: flex-end;
    margin-bottom: var(--space-sm);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--admin-border);
}

/* =============================================================================
   TABLES
   ============================================================================= */
.admin-table {
    width: 100%;
    border-collapse: collapse;
}

.admin-table th,
.admin-table td {
    padding: var(--space-sm) var(--space-md);
    text-align: left;
    border-bottom: 1px solid var(--admin-border);
}

.admin-table th {
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.admin-table tr:hover td {
    background: var(--admin-bg-tertiary);
}

/* =============================================================================
   LOADING & SPINNER
   ============================================================================= */
.admin-spinner {
    width: 24px;
    height: 24px;
    border: 2px solid var(--admin-border);
    border-top-color: var(--admin-accent);
    border-radius: 50%;
    animation: admin-spin 0.8s linear infinite;
}

@keyframes admin-spin {
    to {
        transform: rotate(360deg);
    }
}

.admin-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-xl);
    color: var(--admin-text-muted);
}

/* =============================================================================
   STAT CARDS
   ============================================================================= */
.admin-stat {
    padding: var(--space-lg);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    text-align: center;
}

.admin-stat__value {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--admin-accent);
}

.admin-stat__label {
    margin-top: var(--space-xs);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

/* =============================================================================
   EMPTY STATE
   ============================================================================= */
.admin-empty {
    text-align: center;
    padding: var(--space-3xl);
    color: var(--admin-text-muted);
}

.admin-empty__icon {
    width: 64px;
    height: 64px;
    color: var(--admin-text-light);
    margin-bottom: var(--space-lg);
}

.admin-empty__title {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-sm);
    color: var(--admin-text);
}

.admin-empty__text {
    margin-bottom: var(--space-lg);
}

/* =============================================================================
   TOAST NOTIFICATIONS
   ============================================================================= */
.admin-toast-container {
    position: fixed;
    top: calc(var(--admin-header-height) + var(--space-lg));
    right: var(--space-lg);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    max-width: 400px;
    pointer-events: none;
}

.admin-toast {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-md) var(--space-lg);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    pointer-events: auto;
    transform: translateX(120%);
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.admin-toast--visible {
    transform: translateX(0);
    opacity: 1;
}

.admin-toast__icon {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
}

.admin-toast--success {
    border-color: var(--admin-success);
}

.admin-toast--success .admin-toast__icon {
    color: var(--admin-success);
}

.admin-toast--error {
    border-color: var(--admin-error);
}

.admin-toast--error .admin-toast__icon {
    color: var(--admin-error);
}

.admin-toast--warning {
    border-color: var(--admin-warning);
}

.admin-toast--warning .admin-toast__icon {
    color: var(--admin-warning);
}

.admin-toast--info {
    border-color: var(--admin-info);
}

.admin-toast--info .admin-toast__icon {
    color: var(--admin-info);
}

.admin-toast__message {
    flex: 1;
    font-size: var(--font-size-sm);
}

.admin-toast__close {
    background: none;
    border: none;
    color: var(--admin-text-muted);
    cursor: pointer;
    font-size: var(--font-size-lg);
    padding: 0;
    line-height: 1;
    opacity: 0.7;
    transition: opacity var(--transition-fast);
}

.admin-toast__close:hover {
    opacity: 1;
}

/* =============================================================================
   MODAL DIALOGS
   ============================================================================= */
.admin-modal-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1001;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.admin-modal-overlay--visible {
    opacity: 1;
    visibility: visible;
}

.admin-modal {
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    max-width: 480px;
    width: 90%;
    transform: scale(0.9);
    transition: transform 0.3s ease;
}

.admin-modal-overlay--visible .admin-modal {
    transform: scale(1);
}

.admin-modal__content {
    padding: var(--space-xl);
    text-align: center;
}

.admin-modal__icon {
    width: 64px;
    height: 64px;
    margin: 0 auto var(--space-lg);
    padding: var(--space-md);
    border-radius: 50%;
}

.admin-modal__icon--warning {
    background: var(--admin-warning-bg);
    color: var(--admin-warning);
}

.admin-modal__icon--danger {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

.admin-modal__icon--info {
    background: var(--admin-info-bg);
    color: var(--admin-info);
}

.admin-modal__icon svg {
    width: 100%;
    height: 100%;
}

.admin-modal__title {
    margin: 0 0 var(--space-sm);
    font-size: var(--font-size-lg);
    color: var(--admin-text);
}

.admin-modal__message {
    margin: 0 0 var(--space-xl);
    color: var(--admin-text-muted);
}

.admin-modal__actions {
    display: flex;
    gap: var(--space-md);
    justify-content: center;
}

/* =============================================================================
   JSON EDITOR
   ============================================================================= */
.admin-json-editor {
    position: relative;
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    overflow: hidden;
}

.admin-json-editor__toolbar {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-tertiary);
    border-bottom: 1px solid var(--admin-border);
}

.admin-json-editor__status {
    margin-left: auto;
    font-size: var(--font-size-xs);
}

.admin-json-editor__status--success {
    color: var(--admin-success);
}

.admin-json-editor__status--error {
    color: var(--admin-error);
}

.admin-json-editor textarea {
    border: none;
    border-radius: 0;
    font-family: var(--font-family-mono);
    min-height: 200px;
    resize: vertical;
}

/* =============================================================================
   FILE INPUT STYLING
   ============================================================================= */
.admin-file-input {
    position: relative;
}

.admin-file-input input[type="file"] {
    position: absolute;
    opacity: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
}

.admin-file-input__label {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    background: var(--admin-bg-tertiary);
    border: 2px dashed var(--admin-border);
    border-radius: var(--radius-md);
    color: var(--admin-text-muted);
    transition: all var(--transition-fast);
}

.admin-file-input:hover .admin-file-input__label {
    border-color: var(--admin-accent);
    color: var(--admin-text);
}

.admin-file-input__icon {
    width: 32px;
    height: 32px;
}

.admin-file-input__text {
    text-align: center;
}

.admin-file-input__hint {
    font-size: var(--font-size-xs);
    color: var(--admin-text-light);
}

.admin-file-input__preview {
    margin-top: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-success-bg);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    color: var(--admin-success);
}

.admin-file-input--dragover .admin-file-input__label {
    border-color: var(--admin-accent);
    background: var(--admin-accent-bg);
}

/* Multi-file list */
.admin-file-list {
    margin-top: var(--space-md);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    background: var(--admin-bg-secondary);
}

.admin-file-list__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--admin-border);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.admin-file-list__items {
    list-style: none;
    margin: 0;
    padding: 0;
    max-height: 250px;
    overflow-y: auto;
}

.admin-file-list__item {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--admin-border);
}

.admin-file-list__item:last-child {
    border-bottom: none;
}

.admin-file-list__icon {
    font-size: 1.25rem;
}

.admin-file-list__name {
    flex: 1;
    font-size: var(--font-size-sm);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.admin-file-list__size {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.admin-file-list__status {
    width: 24px;
    text-align: center;
}

.admin-file-list__remove {
    background: none;
    border: none;
    padding: 4px;
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
}

.admin-file-list__remove:hover {
    background: var(--admin-error-bg);
    color: var(--admin-error);
}

/* Upload progress */
.admin-upload-progress {
    padding: var(--space-md);
}

.admin-upload-progress h4 {
    margin: 0 0 var(--space-md);
    font-size: var(--font-size-base);
}

.admin-upload-progress__item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-xs) 0;
    font-size: var(--font-size-sm);
}

.admin-upload-progress__name {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-upload-progress__status {
    margin-left: var(--space-md);
}

/* Danger button variant */
.admin-btn--danger {
    background: var(--admin-error) !important;
    color: #ffffff !important;
}

.admin-btn--danger:hover:not(:disabled) {
    background: #d0665a !important;
}

.admin-btn--danger:disabled {
    background: var(--admin-surface) !important;
    color: var(--admin-text-muted) !important;
    cursor: not-allowed;
    opacity: 0.6;
}

/* Success button variant */
.admin-btn--success {
    background: var(--admin-success) !important;
    color: #ffffff !important;
}

.admin-btn--success:hover:not(:disabled) {
    background: #4a9f6a !important;
}

/* =============================================================================
   KEYBOARD SHORTCUTS MODAL
   ============================================================================= */
.admin-modal--shortcuts .admin-modal__content {
    max-width: 500px;
    text-align: left;
}

.admin-shortcuts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
    margin-bottom: var(--space-xl);
}

.admin-shortcut-group h4 {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
    margin: 0 0 var(--space-md) 0;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.admin-shortcut {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
    font-size: var(--font-size-sm);
}

.admin-shortcut kbd {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    height: 24px;
    padding: 0 var(--space-xs);
    font-family: var(--font-family-mono);
    font-size: var(--font-size-xs);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    box-shadow: 0 1px 0 var(--admin-border);
}

.admin-shortcut span {
    color: var(--admin-text-muted);
}

/* =============================================================================
   RESPONSIVE NAVIGATION
   ============================================================================= */
/* =============================================================================
   COLLAPSIBLE NAV GROUPS
   ============================================================================= */
.admin-nav__group {
    position: relative;
}

.admin-nav__group-toggle {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    color: var(--admin-text-muted);
    background: transparent;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition-fast);
    font-size: var(--font-size-sm);
    font-family: inherit;
}

.admin-nav__group-toggle:hover {
    color: var(--admin-text);
    background: var(--admin-surface);
}

.admin-nav__group-toggle .admin-nav__icon {
    width: 18px;
    height: 18px;
}

.admin-nav__group-arrow {
    width: 12px;
    height: 12px;
    transition: transform var(--transition-fast);
    margin-left: var(--space-xs);
}

.admin-nav__group--open .admin-nav__group-arrow {
    transform: rotate(180deg);
}

.admin-nav__group-dropdown {
    display: none;
    position: absolute;
    top: 100%;
    left: 0;
    min-width: 180px;
    max-width: 220px;
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    padding: var(--space-xs);
    z-index: 200;
}

.admin-nav__group--open .admin-nav__group-dropdown {
    display: block;
}

.admin-nav__group-dropdown .admin-nav__link {
    width: 100%;
    justify-content: flex-start;
    box-sizing: border-box;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Highlight group toggle when child is active */
.admin-nav__group--has-active > .admin-nav__group-toggle {
    color: var(--admin-accent);
    background: var(--admin-accent-muted);
}

@media (max-width: 1200px) {
    .admin-nav__link span,
    .admin-nav__group-toggle > span {
        display: none;
    }
    
    .admin-nav__link,
    .admin-nav__group-toggle {
        padding: var(--space-sm);
    }
    
    .admin-nav__icon {
        margin-right: 0;
    }
    
    .admin-nav__group-arrow {
        display: none;
    }
    
    .admin-nav__group-dropdown .admin-nav__link span {
        display: inline;
    }
}

@media (max-width: 900px) {
    .admin-header {
        flex-wrap: wrap;
        height: auto;
        padding: var(--space-md);
        gap: var(--space-sm);
    }
    
    .admin-header__brand {
        flex: 0 0 auto;
        margin-right: auto;
    }
    
    .admin-nav {
        order: 3;
        flex: 0 0 100%;
        width: 100%;
        margin-top: var(--space-sm);
        justify-content: center;
        flex-wrap: wrap;
        gap: var(--space-xs);
    }
    
    .admin-header__actions {
        order: 2;
        flex: 0 0 auto;
    }
    
    /* Hide button text on small screens */
    .admin-header__actions .admin-btn span {
        display: none;
    }
    
    .admin-header__actions .admin-btn {
        padding: var(--space-sm);
    }
    
    /* Make nav groups work better on smaller screens */
    .admin-nav__group-dropdown {
        position: fixed;
        top: auto;
        left: 50%;
        transform: translateX(-50%);
        min-width: 200px;
    }
}

@media (max-width: 600px) {
    .admin-header__brand span {
        display: none;
    }
    
    .admin-nav {
        justify-content: space-around;
    }
    
    .admin-shortcuts-grid {
        grid-template-columns: 1fr;
    }
    
    .admin-grid--cols-2,
    .admin-grid--cols-3 {
        grid-template-columns: 1fr;
    }
}

/* =============================================================================
   CONSTRAINED CONTENT BLOCKS
   ============================================================================= */
/* For info sections like system info, routes, languages, preferences */
.admin-card__icon{
    max-width: 20px;
}

.admin-definition-list {
    max-width: 500px;
}

/* Constrain toggles and form groups in settings */
.admin-toggle-group,
.admin-settings-item {
    max-width: 500px;
}

/* Structure selector - keep it reasonable */
.admin-structure-selector {
    max-width: 800px;
}

/* Quick actions grid - constrain width */
.admin-quick-actions {
    max-width: 700px;
}
/* =============================================================================
   PERMISSION-BASED VISIBILITY
   ============================================================================= */
/* Hidden by default when user lacks permission */
.admin-hidden-permission {
    display: none !important;
}

/* Disabled state for restricted commands (shown in search with 3 results) */
.admin-disabled-permission {
    opacity: 0.5;
    pointer-events: none;
    cursor: not-allowed;
}

.admin-disabled-permission::after {
    content: '';
    margin-left: var(--space-sm);
    font-size: var(--font-size-xs);
}

/* Permission indicator badge */
.admin-permission-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    border-radius: var(--radius-sm);
    background: var(--admin-surface);
    color: var(--admin-text-muted);
}

.admin-permission-badge--superadmin {
    background: rgba(139, 92, 246, 0.2);
    color: #a78bfa;
}

.admin-permission-badge--admin {
    background: rgba(59, 130, 246, 0.2);
    color: #93c5fd;
}

.admin-permission-badge--limited {
    background: rgba(234, 179, 8, 0.2);
    color: #fde047;
}

/* =============================================================================
   USER BADGE (Header)
   ============================================================================= */
.admin-user-badge {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-size: var(--font-size-sm);
}

.admin-user-badge__icon {
    width: 16px;
    height: 16px;
    color: var(--admin-text-muted);
}

.admin-user-badge__name {
    color: var(--admin-text);
    font-weight: var(--font-weight-medium);
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.admin-user-badge__role {
    padding: 2px 6px;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: var(--radius-sm);
    background: var(--admin-primary);
    color: var(--admin-primary-text);
}

/* Role-specific colors */
.admin-user-badge__role[data-role="*"] {
    background: linear-gradient(135deg, #8b5cf6, #ec4899);
    color: white;
}

.admin-user-badge__role[data-role="admin"] {
    background: #3b82f6;
    color: white;
}

.admin-user-badge__role[data-role="developer"] {
    background: #10b981;
    color: white;
}

.admin-user-badge__role[data-role="designer"] {
    background: #f59e0b;
    color: white;
}

.admin-user-badge__role[data-role="editor"] {
    background: #6366f1;
    color: white;
}

.admin-user-badge__role[data-role="viewer"] {
    background: #6b7280;
    color: white;
}

/* =============================================================================
   PREVIEW PAGE STYLES
   Visual Editor Phase 1 - Live Preview
   ============================================================================= */

/* Preview Page Header Icon */
.admin-page-header__icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
}

/* Preview Toolbar */
.preview-toolbar {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: var(--space-md);
    padding: var(--space-md);
    background: var(--admin-surface);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0; /* Round top only */
    margin-bottom: 0; /* Remove gap - contextual area follows directly */
}

.preview-toolbar__group {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-toolbar__group--grow {
    min-width: 200px;
}

.preview-toolbar__label {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--admin-text-muted);
    white-space: nowrap;
}

.preview-toolbar__select {
    flex: 1;
    max-width: 300px;
    padding: var(--space-sm) var(--space-md);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.preview-toolbar__select:hover {
    border-color: var(--admin-primary);
}

.preview-toolbar__select:focus {
    outline: none;
    border-color: var(--admin-primary);
    box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.2);
}

/* Device Toggle Buttons */
.preview-toolbar__devices {
    display: flex;
    gap: 2px;
    background: var(--admin-bg-secondary);
    padding: 4px;
    border-radius: var(--radius-md);
}

.preview-device-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 36px;
    padding: 0;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-device-btn svg {
    width: 20px;
    height: 20px;
}

.preview-device-btn:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-device-btn--active {
    color: var(--admin-primary);
    background: var(--admin-surface);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* Preview Container */
.preview-container {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: stretch;
    height: var(--preview-height, calc(100vh - 280px));
    min-height: 200px;
    padding: 0;
    background: var(--admin-bg-secondary);
    border-radius: 0 0 var(--radius-lg) var(--radius-lg); /* Round bottom only */
    overflow: hidden;
}

.preview-container--device {
    padding: var(--space-lg);
    align-items: center;
    background: 
        linear-gradient(90deg, var(--admin-surface) 1px, transparent 1px) 0 0 / 20px 20px,
        linear-gradient(0deg, var(--admin-surface) 1px, transparent 1px) 0 0 / 20px 20px,
        var(--admin-bg-secondary);
}

/* Preview Resize Handle - at bottom of preview */
.preview-resize-handle {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 14px;
    cursor: ns-resize;
    background: var(--admin-surface);
    border-top: 1px solid var(--admin-border);
    transition: background 0.2s;
    order: 99; /* Always at bottom */
}

.preview-resize-handle:hover {
    background: var(--admin-surface-hover);
}

.preview-resize-handle__bar {
    width: 40px;
    height: 4px;
    background: var(--admin-border);
    border-radius: 2px;
    transition: background 0.2s, width 0.2s;
}

.preview-resize-handle:hover .preview-resize-handle__bar,
.preview-resize-handle--active .preview-resize-handle__bar {
    background: var(--admin-accent);
    width: 60px;
}

/* When resizing, prevent iframe from capturing mouse events */
.preview-container--resizing .preview-frame-wrapper {
    pointer-events: none;
}

.preview-container--resizing {
    user-select: none;
}

/* Preview Frame Wrapper */
.preview-frame-wrapper {
    position: relative;
    flex: 1;
    width: 100%;
    background: white;
    transition: width 0.3s ease, height 0.3s ease;
    overflow: hidden;
}

.preview-container--device .preview-frame-wrapper {
    flex: none;
    height: auto;
    border-radius: 16px;
    box-shadow: 
        0 0 0 8px #333,
        0 0 0 10px #555,
        0 20px 40px rgba(0, 0, 0, 0.4);
    max-height: calc(100vh - 350px);
}

/* Preview Iframe */
.preview-iframe {
    width: 100%;
    height: 100%;
    border: none;
    background: white;
}

/* Loading Overlay */
.preview-loading {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-md);
    background: rgba(26, 22, 18, 0.9);
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
}

.preview-loading--visible {
    opacity: 1;
    visibility: visible;
}

.preview-loading__spinner {
    width: 32px;
    height: 32px;
    border: 3px solid var(--admin-surface);
    border-top-color: var(--admin-primary);
    border-radius: 50%;
    animation: preview-spin 0.8s linear infinite;
}

@keyframes preview-spin {
    to { transform: rotate(360deg); }
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .preview-toolbar {
        padding: var(--space-sm);
        gap: var(--space-sm);
    }
    
    .preview-toolbar__group--grow {
        order: -1;
        width: 100%;
        flex: none;
    }
    
    .preview-toolbar__select {
        max-width: none;
        width: 100%;
    }
    
    .preview-container {
        min-height: 400px;
    }
    
    .preview-frame-wrapper {
        height: 400px;
    }
}

/* =============================================================================
   PREVIEW PAGE - PHASE 2 STYLES
   Editor Modes, Component Selector, Node Panel
   ============================================================================= */

/* Mode Toggle Buttons */
.preview-toolbar__modes {
    display: flex;
    gap: 2px;
    background: var(--admin-bg-secondary);
    padding: 4px;
    border-radius: var(--radius-md);
}

.preview-mode-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 32px;
    padding: 0;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-mode-btn svg {
    width: 18px;
    height: 18px;
}

.preview-mode-btn:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-mode-btn--active {
    color: var(--admin-primary);
    background: var(--admin-surface);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* Smaller select for component dropdown */
.preview-toolbar__select--sm {
    max-width: 150px;
}

/* 
   COMPONENT WARNING BANNER - Shown when editing a component template
    */

.preview-component-warning {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-warning-light, #fef3c7);
    border-bottom: 1px solid var(--admin-warning, #f59e0b);
    color: var(--admin-warning-dark, #92400e);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
}

.preview-component-warning__icon {
    flex-shrink: 0;
    width: 18px;
    height: 18px;
    color: var(--admin-warning, #f59e0b);
}

.preview-component-warning__text {
    flex: 1;
}

/* 
   CONTEXTUAL AREA - Phase 8: Dynamic content area between toolbar and preview
    */

.preview-contextual-area {
    position: relative;
    background: var(--admin-surface);
    border-top: 1px solid var(--admin-border); /* Subtle separator from toolbar */
    overflow: visible; /* Allow toggle button to overflow */
    margin-bottom: 20px; /* Space for toggle button + separation from preview */
    transition: max-height 0.3s ease, margin-bottom 0.3s ease;
}

.preview-contextual-area--collapsed {
    max-height: 0;
    margin-bottom: 28px; /* Keep space for toggle button when collapsed */
    border-bottom-color: transparent;
}

/* Hide content when collapsed but keep toggle visible */
.preview-contextual-area--collapsed .preview-contextual-content {
    visibility: hidden;
    opacity: 0;
}

.preview-contextual-toggle {
    position: absolute;
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: 50%;
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-contextual-toggle:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-contextual-toggle__icon {
    width: 14px;
    height: 14px;
}

.preview-contextual-area--collapsed .preview-contextual-toggle__icon--collapse {
    display: none;
}

.preview-contextual-area--collapsed .preview-contextual-toggle__icon--expand {
    display: block !important;
}

.preview-contextual-content {
    padding: var(--space-md);
}

/* Mode Sections */
.preview-contextual-section {
    display: none;
}

.preview-contextual-section--active {
    display: block;
}

/* Default Hint Messages */
.preview-contextual-default {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.preview-contextual-default svg {
    width: 20px;
    height: 20px;
    opacity: 0.5;
    flex-shrink: 0;
}

/* Mode-specific colors for icons */
.preview-contextual-section--select .preview-contextual-default svg { color: #f97316; }
.preview-contextual-section--drag .preview-contextual-default svg { color: #22c55e; }
.preview-contextual-section--text .preview-contextual-default svg { color: #eab308; }
.preview-contextual-section--style .preview-contextual-default svg { color: #8b5cf6; }

/* Element Info in Contextual Area */
.preview-contextual-info {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
    align-items: flex-start;
}

.preview-contextual-info__main {
    flex: 1 1 300px;
    min-width: 200px;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs) var(--space-md);
}

.preview-contextual-info__row {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    flex: 0 0 auto;
    min-width: 120px;
}

.preview-contextual-info__label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    flex-shrink: 0;
}

.preview-contextual-info__value {
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    word-break: break-all;
}

.preview-contextual-info__value--truncate {
    max-width: 150px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

code.preview-contextual-info__value {
    padding: 1px 4px;
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
    font-family: 'Fira Code', 'Monaco', monospace;
    font-size: var(--font-size-xs);
}

.preview-contextual-info__value--struct {
    color: var(--admin-primary);
    background: rgba(var(--admin-primary-rgb), 0.1);
    font-weight: 500;
}

.preview-contextual-info__value--component {
    background: rgba(37, 99, 235, 0.1);
    color: #2563eb;
    border: 1px solid rgba(37, 99, 235, 0.3);
}

.preview-contextual-info__value--textkey {
    background: rgba(234, 179, 8, 0.1);
    color: #b45309;
    border: 1px solid rgba(234, 179, 8, 0.3);
}

/* Action Buttons in Contextual Area */
.preview-contextual-info__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    align-items: center;
    flex: 0 0 auto;
}

.preview-contextual-info__actions .admin-btn {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.preview-contextual-info__actions .admin-btn svg {
    width: 14px;
    height: 14px;
}

/* Style Mode Tabs (for Phase 8.3+) */
.preview-contextual-style-tabs {
    display: flex;
    gap: var(--space-xs);
    margin-bottom: var(--space-sm);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--admin-border);
}

.preview-contextual-style-tab {
    padding: var(--space-xs) var(--space-sm);
    background: transparent;
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-contextual-style-tab:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-contextual-style-tab--active {
    color: #8b5cf6;
    background: rgba(139, 92, 246, 0.1);
    border-color: rgba(139, 92, 246, 0.3);
}

/* Hide contextual area when in miniplayer mode */
.preview-page--miniplayer .preview-contextual-area {
    display: none;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .preview-contextual-content {
        padding: var(--space-sm);
    }
    
    .preview-contextual-info {
        flex-direction: column;
    }
    
    .preview-contextual-info__main {
        flex-direction: column;
    }
    
    .preview-contextual-info__actions {
        width: 100%;
        justify-content: flex-start;
    }
}

/* ==================== Theme Variables Editor (Phase 8.3) ==================== */

.preview-theme-panel {
    display: block;
}

.preview-theme-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.preview-theme-spinner {
    width: 20px;
    height: 20px;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.preview-theme-content {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-md);
    align-items: flex-start;
}

.preview-theme-section {
    flex: 1 1 200px;
    min-width: 180px;
    max-width: 100%;
}

.preview-theme-section__title {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    margin: 0 0 var(--space-sm);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.preview-theme-section__title svg {
    opacity: 0.6;
}

/* Theme Variables Grid */
.preview-theme-grid {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
}

.preview-theme-item {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    min-width: 0;
}

.preview-theme-item__label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
    flex-shrink: 0;
    min-width: 50px;
}

/* Color Picker Items */
.preview-theme-grid--colors .preview-theme-item {
    flex: 0 0 auto;
}

.preview-theme-color {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
    transition: background 0.2s ease;
    min-width: 140px;
    max-width: 180px;
}

.preview-theme-color:hover {
    background: var(--admin-bg-tertiary);
}

.preview-theme-color__swatch {
    width: 28px;
    height: 28px;
    border: 2px solid var(--admin-border);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    flex-shrink: 0;
}

.preview-theme-color__swatch:hover {
    transform: scale(1.1);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.preview-theme-color__info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
    min-width: 0;
    overflow: hidden;
}

.preview-theme-color__name {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.preview-theme-color__value {
    padding: var(--space-xs);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    font-family: 'Fira Code', monospace;
    color: var(--admin-text);
    transition: border-color 0.2s ease;
    width: 100%;
    box-sizing: border-box;
}

.preview-theme-color__value:focus {
    outline: none;
    border-color: #8b5cf6;
}

/* Font & Spacing Inputs */
.preview-theme-input {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: var(--space-xs);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
    min-width: 120px;
    max-width: 160px;
}

.preview-theme-input__label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.preview-theme-input__field {
    padding: var(--space-xs);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    font-family: 'Fira Code', monospace;
    color: var(--admin-text);
    transition: border-color 0.2s ease;
    width: 100%;
    box-sizing: border-box;
}

.preview-theme-input__field:focus {
    outline: none;
    border-color: #8b5cf6;
}

.preview-theme-input__field::placeholder {
    color: var(--admin-text-muted);
    opacity: 0.6;
}

/* Empty state */
.preview-theme-empty {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    font-style: italic;
    text-align: center;
    padding: var(--space-sm);
    margin: 0;
}

/* Theme Actions */
.preview-theme-actions {
    flex: 0 0 100%;
    display: flex;
    justify-content: flex-end;
    gap: var(--space-sm);
    padding-top: var(--space-sm);
    border-top: 1px solid var(--admin-border);
    margin-top: var(--space-xs);
}

.preview-theme-actions .admin-btn svg {
    width: 14px;
    height: 14px;
}

/* ===== Selectors Panel (Phase 8.4) ===== */
.preview-selectors-panel {
    padding: var(--space-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

/* Selector Search */
.preview-selectors-search {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-selectors-search__wrapper {
    position: relative;
    flex: 1;
    min-width: 150px;
}

.preview-selectors-search__icon {
    position: absolute;
    left: var(--space-sm);
    top: 50%;
    transform: translateY(-50%);
    color: var(--admin-text-muted);
    pointer-events: none;
}

.preview-selectors-search__input {
    width: 100%;
    padding: var(--space-xs) var(--space-lg);
    padding-right: var(--space-lg);
    font-size: var(--font-size-sm);
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    color: var(--admin-text);
    transition: border-color 0.2s, box-shadow 0.2s;
}

.preview-selectors-search__input:focus {
    outline: none;
    border-color: var(--admin-accent);
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.preview-selectors-search__input::placeholder {
    color: var(--admin-text-muted);
}

.preview-selectors-search__clear {
    position: absolute;
    right: var(--space-xs);
    top: 50%;
    transform: translateY(-50%);
    padding: 4px;
    background: none;
    border: none;
    color: var(--admin-text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: color 0.2s, background 0.2s;
}

.preview-selectors-search__clear:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-selectors-info {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
}

/* Selector Loading */
.preview-selectors-loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-md);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

/* Selector Groups */
.preview-selectors-groups {
    display: flex;
    flex-direction: column;
    gap: 2px;
    flex: 1;
    overflow-y: auto;
}

.preview-selectors-group__header {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    background: var(--admin-surface);
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: background 0.2s;
}

.preview-selectors-group__header:hover {
    background: var(--admin-surface-hover);
}

.preview-selectors-group__arrow {
    transition: transform 0.2s;
    flex-shrink: 0;
}

.preview-selectors-group__header--expanded .preview-selectors-group__arrow {
    transform: rotate(0deg);
}

.preview-selectors-group__header:not(.preview-selectors-group__header--expanded) .preview-selectors-group__arrow {
    transform: rotate(-90deg);
}

.preview-selectors-group__title {
    flex: 1;
    text-align: left;
}

.preview-selectors-group__count {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    background: var(--admin-bg);
    padding: 1px 6px;
    border-radius: var(--radius-sm);
}

.preview-selectors-group__list {
    display: flex;
    flex-wrap: wrap;
    gap: 4px;
    padding: var(--space-xs) var(--space-sm);
    padding-left: calc(var(--space-sm) + 18px);
}

/* Selector Item (chip style) */
.preview-selector-item {
    display: inline-flex;
    align-items: center;
    padding: 2px 8px;
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    color: var(--admin-text);
    cursor: pointer;
    transition: all 0.15s;
    max-width: 180px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-selector-item:hover {
    background: rgba(139, 92, 246, 0.15);
    border-color: #8b5cf6;
    color: #a78bfa;
}

.preview-selector-item--active {
    background: rgba(139, 92, 246, 0.2);
    border-color: #8b5cf6;
    color: #c4b5fd;
}

.preview-selector-item--tag { color: #f97316; }
.preview-selector-item--tag:hover { color: #fb923c; border-color: #f97316; background: rgba(249, 115, 22, 0.15); }

.preview-selector-item--class { color: #10b981; }
.preview-selector-item--class:hover { color: #34d399; border-color: #10b981; background: rgba(16, 185, 129, 0.15); }

.preview-selector-item--id { color: #f59e0b; }
.preview-selector-item--id:hover { color: #fbbf24; border-color: #f59e0b; background: rgba(245, 158, 11, 0.15); }

.preview-selector-item--attribute { color: #06b6d4; }
.preview-selector-item--attribute:hover { color: #22d3ee; border-color: #06b6d4; background: rgba(6, 182, 212, 0.15); }

.preview-selector-item--media { color: #8b5cf6; }
.preview-selector-item--media:hover { color: #a78bfa; border-color: #8b5cf6; background: rgba(139, 92, 246, 0.15); }

/* Media Query Sub-group */
.preview-selectors-media-group {
    margin-bottom: var(--space-sm);
}

.preview-selectors-media-group__title {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-family: var(--font-mono);
    margin-bottom: 4px;
    padding-left: 2px;
}

/* Selected Selector Info */
.preview-selector-selected {
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: var(--radius-md);
    padding: var(--space-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.preview-selector-selected__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-selector-selected__label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.preview-selector-selected__value {
    flex: 1;
    font-size: var(--font-size-sm);
    color: #c4b5fd;
    background: var(--admin-bg);
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-selector-selected__clear {
    padding: 4px;
    background: none;
    border: none;
    color: var(--admin-text-muted);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: color 0.2s, background 0.2s;
}

.preview-selector-selected__clear:hover {
    color: var(--admin-text);
    background: rgba(255, 255, 255, 0.1);
}

.preview-selector-selected__info {
    display: flex;
    align-items: center;
    gap: var(--space-md);
}

.preview-selector-selected__matches {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.preview-selector-selected__matches strong {
    color: #c4b5fd;
}

.preview-selector-selected__actions {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-xs);
}

/* ==================== Style Editor (Phase 8.5) ==================== */

.preview-style-editor {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: var(--admin-surface);
}

.preview-style-editor__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--admin-border);
    background: rgba(139, 92, 246, 0.08);
    flex-shrink: 0;
}

.preview-style-editor__back {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: var(--admin-text-secondary);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.2s;
}

.preview-style-editor__back:hover {
    background: var(--admin-surface-hover);
    color: var(--admin-text);
}

.preview-style-editor__title {
    flex: 1;
    min-width: 0;
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.preview-style-editor__label {
    font-size: var(--font-size-sm);
    color: var(--admin-text-secondary);
    white-space: nowrap;
    cursor: pointer;
    transition: color 0.15s ease;
}

.preview-style-editor__label:hover {
    color: var(--admin-text-primary);
    text-decoration: underline;
}

.preview-style-editor__selector {
    font-size: var(--font-size-sm);
    color: #a78bfa;
    background: rgba(139, 92, 246, 0.15);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-style-editor__badge {
    display: flex;
    align-items: center;
    gap: 4px;
    padding: 3px 8px;
    background: rgba(251, 191, 36, 0.15);
    color: #fbbf24;
    border-radius: var(--radius-pill);
    font-size: 0.7rem;
    font-weight: 500;
    white-space: nowrap;
}

.preview-style-editor__loading,
.preview-style-editor__empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-xl);
    color: var(--admin-text-secondary);
    text-align: center;
}

.preview-style-editor__empty svg {
    opacity: 0.4;
}

.preview-style-editor__properties {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-sm);
}

/* Property Row */
.preview-style-property {
    display: grid;
    grid-template-columns: minmax(140px, 1fr) minmax(120px, 2fr) auto;
    gap: var(--space-sm);
    padding: var(--space-sm);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    margin-bottom: var(--space-xs);
    align-items: center;
}

.preview-style-property--modified {
    background: rgba(139, 92, 246, 0.1);
    border-left: 2px solid #a78bfa;
}

.preview-style-property--new {
    background: rgba(34, 197, 94, 0.1);
    border-left: 2px solid #22c55e;
}

.preview-style-property__name {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: #93c5fd;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-style-property__name-input {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: #93c5fd;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    padding: 4px 8px;
    width: 100%;
}

.preview-style-property__name-input:focus {
    outline: none;
    border-color: var(--admin-accent);
}

.preview-style-property__value {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.preview-style-property__input {
    flex: 1;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    padding: 4px 8px;
    min-width: 0;
}

.preview-style-property__input:focus {
    outline: none;
    border-color: var(--admin-accent);
}

/* Color swatch for color properties */
.preview-style-property__color {
    width: 24px;
    height: 24px;
    border-radius: var(--radius-sm);
    border: 1px solid var(--admin-border);
    cursor: pointer;
    flex-shrink: 0;
}

.preview-style-property__color:hover {
    border-color: var(--admin-accent);
}

/* Variable indicator */
.preview-style-property__var {
    font-size: 0.65rem;
    color: #a78bfa;
    background: rgba(139, 92, 246, 0.2);
    padding: 1px 4px;
    border-radius: 3px;
    flex-shrink: 0;
}

/* Resolved value display for var() */
.preview-style-property__resolved {
    font-size: 0.7rem;
    color: var(--admin-text-muted);
    font-family: var(--font-mono);
}

.preview-style-property__delete {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    cursor: pointer;
    opacity: 0;
    transition: all 0.2s;
}

.preview-style-property:hover .preview-style-property__delete {
    opacity: 1;
}

.preview-style-property__delete:hover {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
}

/* Add Property Button */
.preview-style-editor__add {
    padding: var(--space-xs) var(--space-sm);
    border-top: 1px solid var(--admin-border);
    flex-shrink: 0;
}

.preview-style-editor__add-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
    width: 100%;
    padding: var(--space-sm);
    border: 1px dashed var(--admin-border);
    background: transparent;
    color: var(--admin-text-secondary);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: var(--font-size-sm);
    transition: all 0.2s;
}

.preview-style-editor__add-btn:hover {
    border-color: var(--admin-accent);
    color: var(--admin-accent);
    background: rgba(139, 92, 246, 0.05);
}

/* Actions Footer */
.preview-style-editor__actions {
    display: flex;
    justify-content: flex-end;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    border-top: 1px solid var(--admin-border);
    background: var(--admin-bg);
    flex-shrink: 0;
}

/* Live preview indicator */
.preview-style-editor__live {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: 0.7rem;
    color: #22c55e;
    margin-right: auto;
}

.preview-style-editor__live::before {
    content: '';
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: #22c55e;
    animation: pulse-green 1.5s ease-in-out infinite;
}

@keyframes pulse-green {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.4; }
}

/* CSS Variable Dropdown Button */
.preview-style-property__var-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    padding: 0;
    border: 1px solid var(--admin-border);
    background: var(--admin-surface);
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    cursor: pointer;
    flex-shrink: 0;
    transition: all 0.2s;
}

.preview-style-property__var-btn:hover {
    border-color: var(--admin-accent);
    color: var(--admin-accent);
    background: rgba(139, 92, 246, 0.1);
}

/* CSS Variables Dropdown */
.preview-var-dropdown {
    width: 260px;
    max-height: 300px;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    z-index: 10000;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.preview-var-dropdown__search {
    padding: var(--space-sm);
    border: none;
    border-bottom: 1px solid var(--admin-border);
    background: var(--admin-bg);
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    outline: none;
}

.preview-var-dropdown__search::placeholder {
    color: var(--admin-text-muted);
}

.preview-var-dropdown__list {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-xs);
}

.preview-var-dropdown__item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    border: none;
    background: transparent;
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    text-align: left;
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background 0.15s;
}

.preview-var-dropdown__item:hover {
    background: var(--admin-surface-hover);
}

.preview-var-dropdown__item-name {
    font-family: var(--font-mono);
    color: #a78bfa;
    flex: 1;
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-var-dropdown__item-value {
    font-size: 0.7rem;
    color: var(--admin-text-muted);
    max-width: 80px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    text-align: right;
}

.preview-var-dropdown__item-value--color {
    display: flex;
    align-items: center;
    gap: 4px;
}

.preview-var-dropdown__item-value--color::before {
    content: '';
    width: 12px;
    height: 12px;
    border-radius: 2px;
    background: var(--preview-color);
    border: 1px solid rgba(255,255,255,0.2);
    flex-shrink: 0;
}

.preview-var-dropdown__empty {
    padding: var(--space-md);
    text-align: center;
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.preview-contextual-hint {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    font-style: italic;
    margin: 0;
}

/* Property Selector Dropdown (Phase 8.7) */
.preview-property-selector {
    position: relative;
    width: 100%;
}

.preview-property-selector__trigger {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 4px 8px;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: #93c5fd;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
}

.preview-property-selector__trigger:hover,
.preview-property-selector__trigger--open {
    border-color: var(--admin-accent);
}

.preview-property-selector__trigger svg {
    flex-shrink: 0;
    opacity: 0.6;
    transition: transform 0.2s;
}

.preview-property-selector__trigger--open svg {
    transform: rotate(180deg);
}

.preview-property-selector__dropdown {
    position: fixed;
    width: 280px;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    z-index: 10000;
    max-height: 320px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.preview-property-selector__search {
    padding: var(--space-sm);
    border: none;
    border-bottom: 1px solid var(--admin-border);
    background: var(--admin-bg);
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    font-family: var(--font-mono);
    outline: none;
}

.preview-property-selector__search::placeholder {
    color: var(--admin-text-muted);
}

.preview-property-selector__list {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-xs);
}

.preview-property-selector__group {
    margin-bottom: var(--space-xs);
}

.preview-property-selector__group-label {
    padding: var(--space-xs) var(--space-sm);
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--admin-text-muted);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    margin-bottom: 2px;
}

.preview-property-selector__item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    border: none;
    background: transparent;
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    font-family: var(--font-mono);
    text-align: left;
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background 0.15s;
}

.preview-property-selector__item:hover,
.preview-property-selector__item--focused {
    background: var(--admin-surface-hover);
}

.preview-property-selector__item--custom {
    color: var(--admin-accent);
    border-top: 1px solid var(--admin-border);
    margin-top: var(--space-xs);
    padding-top: var(--space-sm);
}

.preview-property-selector__item-type {
    font-size: 0.6rem;
    color: var(--admin-text-muted);
    padding: 1px 4px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
}

.preview-property-selector__empty {
    padding: var(--space-md);
    text-align: center;
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.preview-property-selector__warning {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-sm);
    color: #fbbf24;
    font-size: var(--font-size-sm);
    background: rgba(251, 191, 36, 0.1);
    border-radius: var(--radius-sm);
    margin-top: var(--space-xs);
}

/* QS Property Selector - Reusable Component (Phase 10.3) */
.qs-property-selector {
    position: relative;
    width: 100%;
}

.qs-property-selector__trigger {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 4px 8px;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: #93c5fd;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
}

.qs-property-selector__trigger:hover,
.qs-property-selector__trigger--open {
    border-color: var(--admin-accent);
}

.qs-property-selector__trigger svg {
    flex-shrink: 0;
    opacity: 0.6;
    transition: transform 0.2s;
}

.qs-property-selector__trigger--open svg {
    transform: rotate(180deg);
}

.qs-property-selector__dropdown {
    position: fixed;
    min-width: 280px;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
    z-index: 100002;
    max-height: 320px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.qs-property-selector__search {
    padding: var(--space-sm);
    border: none;
    border-bottom: 1px solid var(--admin-border);
    background: var(--admin-bg);
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    font-family: var(--font-mono);
    outline: none;
}

.qs-property-selector__search::placeholder {
    color: var(--admin-text-muted);
}

.qs-property-selector__list {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-xs);
}

.qs-property-selector__group {
    margin-bottom: var(--space-xs);
}

.qs-property-selector__group-label {
    padding: var(--space-xs) var(--space-sm);
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--admin-text-muted);
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    margin-bottom: 2px;
}

.qs-property-selector__item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    border: none;
    background: transparent;
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    font-family: var(--font-mono);
    text-align: left;
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background 0.15s;
}

.qs-property-selector__item:hover,
.qs-property-selector__item--focused {
    background: var(--admin-surface-hover);
}

.qs-property-selector__item--custom {
    color: var(--admin-accent);
    border-top: 1px solid var(--admin-border);
    margin-top: var(--space-xs);
    padding-top: var(--space-sm);
}

.qs-property-selector__item-type {
    font-size: 0.6rem;
    color: var(--admin-text-muted);
    padding: 1px 4px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 3px;
}

.qs-property-selector__empty {
    padding: var(--space-md);
    text-align: center;
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.qs-property-selector__warning {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-sm);
    color: #fbbf24;
    font-size: var(--font-size-sm);
    background: rgba(251, 191, 36, 0.1);
    border-radius: var(--radius-sm);
    margin-top: var(--space-xs);
}

/* QS Value Input - Reusable Component (Phase 10.3) */
.qs-value-input {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    flex: 1;
    min-width: 0;
}

.qs-value-input__input,
.qs-value-input__select,
.qs-value-input__number {
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-xs);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    flex: 1;
    min-width: 0;
}

.qs-value-input__input:focus,
.qs-value-input__select:focus,
.qs-value-input__number:focus {
    outline: none;
    border-color: var(--admin-accent);
    box-shadow: 0 0 0 2px rgba(var(--admin-accent-rgb), 0.2);
}

.qs-value-input__select option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text);
}

/* Length input: number + unit dropdown */
.qs-value-input--length {
    display: flex;
    gap: var(--space-2xs);
}

.qs-value-input--length .qs-value-input__number {
    flex: 1;
    width: 60px;
    min-width: 50px;
}

.qs-value-input--length .qs-value-input__unit {
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-xs);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    width: auto;
    min-width: 50px;
    cursor: pointer;
}

.qs-value-input--length .qs-value-input__unit:focus {
    outline: none;
    border-color: var(--admin-accent);
}

.qs-value-input--length .qs-value-input__unit option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text);
}

/* Range input: slider + value display */
.qs-value-input--range {
    display: flex;
    gap: var(--space-xs);
    align-items: center;
}

.qs-value-input__range {
    flex: 1;
    height: 4px;
    background: var(--admin-border);
    border-radius: 2px;
    -webkit-appearance: none;
    appearance: none;
}

.qs-value-input__range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    background: var(--admin-accent);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid var(--admin-bg);
}

.qs-value-input__range::-webkit-slider-thumb:hover {
    background: var(--admin-accent-hover);
}

.qs-value-input__range-value {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    min-width: 32px;
    text-align: right;
    font-family: monospace;
}

/* Enum input: dropdown select */
.qs-value-input--enum .qs-value-input__select {
    width: 100%;
}

/* Number input */
.qs-value-input--number .qs-value-input__input {
    width: 100%;
}

/* Text input */
.qs-value-input--text .qs-value-input__input {
    width: 100%;
}

/* Color swatch for QSValueInput */
.qs-value-input__color-swatch {
    width: 20px;
    height: 20px;
    min-width: 20px;
    border-radius: var(--radius-sm);
    border: 1px solid var(--admin-border);
    cursor: pointer;
    flex-shrink: 0;
}

.qs-value-input__color-swatch:hover {
    border-color: var(--admin-accent);
    box-shadow: 0 0 0 2px rgba(var(--admin-accent-rgb), 0.2);
}

/* Specialized inputs for Style Editor properties */
.preview-style-property__specialized {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    flex: 1;
    min-width: 0;
}

.preview-style-property__range-container {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    flex: 1;
}

.preview-style-property__range {
    flex: 1;
    height: 4px;
    -webkit-appearance: none;
    background: var(--admin-border);
    border-radius: 2px;
    outline: none;
}

.preview-style-property__range::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--admin-accent);
    cursor: pointer;
    transition: transform 0.15s;
}

.preview-style-property__range::-webkit-slider-thumb:hover {
    transform: scale(1.2);
}

.preview-style-property__range-value {
    min-width: 40px;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    text-align: right;
}

.preview-style-property__length-container {
    display: flex;
    align-items: center;
    gap: 4px;
    flex: 1;
}

.preview-style-property__length-input {
    flex: 1;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    padding: 4px 8px;
    min-width: 0;
}

.preview-style-property__length-input:focus {
    outline: none;
    border-color: var(--admin-accent);
}

.preview-style-property__unit-select {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    padding: 4px 6px;
    cursor: pointer;
    min-width: 50px;
}

.preview-style-property__unit-select:focus {
    outline: none;
    border-color: var(--admin-accent);
}

.preview-style-property__enum-select {
    flex: 1;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    padding: 4px 8px;
    cursor: pointer;
}

.preview-style-property__enum-select:focus {
    outline: none;
    border-color: var(--admin-accent);
}

/* ==================== Animations Tab (Phase 9.2) ==================== */

/* Animations Panel */
.preview-animations-panel {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    padding: var(--space-sm);
}

.preview-animations-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.preview-animations-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

/* Animations Section */
.preview-animations-section {
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    background: var(--admin-surface);
    overflow: hidden;
}

.preview-animations-section__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg);
    border-bottom: 1px solid var(--admin-border);
}

.preview-animations-section__title {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    margin: 0;
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--admin-text);
    flex: 1;
}

.preview-animations-section__title svg {
    color: var(--admin-accent);
}

.preview-animations-section__count {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    background: var(--admin-surface);
    padding: 2px 8px;
    border-radius: var(--radius-full);
}

/* Empty state */
.preview-animations-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    padding: var(--space-lg);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    text-align: center;
}

.preview-animations-empty svg {
    opacity: 0.5;
}

/* Keyframes List */
.preview-keyframes-list {
    display: flex;
    flex-direction: column;
    max-height: 180px;
    overflow-y: auto;
}

.preview-keyframe-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--admin-border);
    transition: background 0.15s;
}

.preview-keyframe-item:last-child {
    border-bottom: none;
}

.preview-keyframe-item:hover {
    background: var(--admin-surface-hover);
}

.preview-keyframe-item__info {
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;
    flex: 1;
}

.preview-keyframe-item__name {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: #a78bfa;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.preview-keyframe-item__frames {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.preview-keyframe-item__actions {
    display: flex;
    align-items: center;
    gap: 4px;
}

.preview-keyframe-item__btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    padding: 0;
    border: 1px solid transparent;
    background: transparent;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.15s;
}

.preview-keyframe-item__btn:hover {
    background: var(--admin-surface-hover);
    color: var(--admin-text);
    border-color: var(--admin-border);
}

.preview-keyframe-item__btn--preview:hover {
    color: #10b981;
    border-color: #10b981;
    background: rgba(16, 185, 129, 0.1);
}

.preview-keyframe-item__btn--preview.preview-keyframe-item__btn--active {
    color: #10b981;
    border-color: #10b981;
    background: rgba(16, 185, 129, 0.2);
}

.preview-keyframe-item__btn--edit:hover {
    color: var(--admin-accent);
    border-color: var(--admin-accent);
    background: rgba(139, 92, 246, 0.1);
}

.preview-keyframe-item__btn--delete:hover {
    color: #ef4444;
    border-color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
}

/* Keyframe Editor Modal (Phase 9.3) */
.preview-keyframe-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: none;
    align-items: center;
    justify-content: center;
}

.preview-keyframe-modal--visible {
    display: flex;
}

.preview-keyframe-modal__backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(2px);
}

.preview-keyframe-modal__content {
    position: relative;
    background: var(--admin-card-bg);
    border-radius: var(--radius-lg);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 95%;
    max-width: 700px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.preview-keyframe-modal__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md) var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(168, 85, 247, 0.05));
}

.preview-keyframe-modal__header h3 {
    margin: 0;
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--admin-text);
}

.preview-keyframe-modal__close {
    background: none;
    border: none;
    padding: var(--space-xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
}

.preview-keyframe-modal__close:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-keyframe-modal__close svg {
    width: 20px;
    height: 20px;
}

.preview-keyframe-modal__body {
    flex: 1;
    padding: var(--space-lg);
    overflow-y: auto;
}

.preview-keyframe-modal__field {
    margin-bottom: var(--space-md);
}

.preview-keyframe-modal__field label {
    display: block;
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--admin-text);
    margin-bottom: var(--space-xs);
}

.preview-keyframe-modal__hint {
    display: block;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    margin-top: var(--space-2xs);
}

/* Timeline Section */
.preview-keyframe-modal__timeline-section {
    margin: var(--space-lg) 0;
    padding: var(--space-md);
    background: var(--admin-surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--admin-border);
}

.preview-keyframe-modal__timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
}

.preview-keyframe-modal__timeline-header label {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--admin-text);
}

.preview-keyframe-modal__timeline {
    position: relative;
    height: 50px;
    background: var(--admin-bg);
    border-radius: var(--radius-sm);
    border: 1px solid var(--admin-border);
    margin-bottom: var(--space-sm);
}

.preview-keyframe-modal__timeline-bar {
    position: absolute;
    top: 50%;
    left: 10px;
    right: 10px;
    height: 4px;
    background: var(--admin-border);
    border-radius: 2px;
    transform: translateY(-50%);
    cursor: pointer;
}

.preview-keyframe-modal__timeline-bar:hover {
    background: rgba(139, 92, 246, 0.3);
}

.preview-keyframe-modal__timeline-track {
    position: absolute;
    top: 50%;
    left: 10px;
    right: 10px;
    height: 4px;
    background: var(--admin-border);
    border-radius: 2px;
    transform: translateY(-50%);
}

.preview-keyframe-modal__timeline-marker {
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 20px;
    height: 20px;
    background: #8b5cf6;
    border: 2px solid var(--admin-card-bg);
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.15s;
    z-index: 1;
}

.preview-keyframe-modal__timeline-marker:hover {
    transform: translate(-50%, -50%) scale(1.2);
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.2);
}

.preview-keyframe-modal__timeline-marker--selected {
    background: #a855f7;
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.3);
    transform: translate(-50%, -50%) scale(1.1);
}

.preview-keyframe-modal__timeline-marker--dragging {
    background: #c084fc;
    box-shadow: 0 0 0 6px rgba(139, 92, 246, 0.4);
    transform: translate(-50%, -50%) scale(1.3);
    cursor: grabbing !important;
    z-index: 10;
}

.preview-keyframe-modal__timeline-marker-label {
    position: absolute;
    bottom: -18px;
    left: 50%;
    transform: translateX(-50%);
    font-size: var(--font-size-2xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
}

/* Frames Editor */
.preview-keyframe-modal__frames {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.preview-keyframe-modal__frame {
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    overflow: hidden;
}

.preview-keyframe-modal__frame--selected {
    border-color: #8b5cf6;
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.preview-keyframe-modal__frame-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg);
    border-bottom: 1px solid var(--admin-border);
}

.preview-keyframe-modal__frame-title {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-keyframe-modal__frame-percent {
    font-weight: 600;
    font-size: var(--font-size-sm);
    color: #8b5cf6;
}

.preview-keyframe-modal__frame-percent-group {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
}

.preview-keyframe-modal__frame-percent-input {
    width: 50px;
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-sm);
    font-weight: 600;
    text-align: right;
    border: 1px solid transparent;
    border-radius: var(--radius-sm);
    background: transparent;
    color: #8b5cf6;
    transition: all 0.15s;
}

.preview-keyframe-modal__frame-percent-input:hover,
.preview-keyframe-modal__frame-percent-input:focus {
    border-color: var(--admin-border);
    background: var(--admin-card-bg);
}

.preview-keyframe-modal__frame-percent-input::-webkit-inner-spin-button,
.preview-keyframe-modal__frame-percent-input::-webkit-outer-spin-button {
    opacity: 0;
}

.preview-keyframe-modal__frame-percent-input:hover::-webkit-inner-spin-button,
.preview-keyframe-modal__frame-percent-input:focus::-webkit-inner-spin-button {
    opacity: 1;
}

.preview-keyframe-modal__frame-percent-symbol {
    font-weight: 600;
    font-size: var(--font-size-sm);
    color: #8b5cf6;
}

.preview-keyframe-modal__frame-delete {
    background: none;
    border: none;
    padding: var(--space-xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
}

.preview-keyframe-modal__frame-delete:hover {
    color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
}

.preview-keyframe-modal__frame-delete:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.preview-keyframe-modal__frame-body {
    padding: var(--space-md);
}

.preview-keyframe-modal__properties {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.preview-keyframe-modal__property {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-keyframe-modal__property-name-group {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    width: 180px;
}

.preview-keyframe-modal__property-select {
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-surface);
    color: var(--admin-text);
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%239ca3af' d='M3 4.5L6 7.5L9 4.5'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 8px center;
    padding-right: 28px;
}

.preview-keyframe-modal__property-select option {
    background: var(--admin-surface);
    color: var(--admin-text);
    padding: var(--space-xs);
}

.preview-keyframe-modal__property-select:focus {
    border-color: #8b5cf6;
    outline: none;
}

.preview-keyframe-modal__property-name {
    width: 140px;
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
}

.preview-keyframe-modal__property-name--hidden {
    display: none;
}

.preview-keyframe-modal__property-value {
    flex: 1;
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
}

/* Phase 9.3.1: Property-Specific Input Types */
.preview-keyframe-modal__property-input-group {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    flex: 1;
}

/* Range slider (opacity) */
.preview-keyframe-modal__property-input-group--range {
    gap: var(--space-sm);
}

.preview-keyframe-modal__property-range {
    flex: 1;
    height: 6px;
    -webkit-appearance: none;
    appearance: none;
    background: var(--admin-border);
    border-radius: 3px;
    outline: none;
    cursor: pointer;
}

.preview-keyframe-modal__property-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background: #8b5cf6;
    border-radius: 50%;
    cursor: pointer;
    transition: transform 0.15s, box-shadow 0.15s;
}

.preview-keyframe-modal__property-range::-webkit-slider-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.2);
}

.preview-keyframe-modal__property-range::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: #8b5cf6;
    border-radius: 50%;
    cursor: pointer;
    border: none;
    transition: transform 0.15s, box-shadow 0.15s;
}

.preview-keyframe-modal__property-range::-moz-range-thumb:hover {
    transform: scale(1.15);
    box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.2);
}

.preview-keyframe-modal__property-range-value {
    min-width: 36px;
    text-align: right;
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    font-family: monospace;
}

/* Color input with picker button */
.preview-keyframe-modal__property-input-group--color {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.preview-keyframe-modal__color-picker-btn {
    width: 32px;
    height: 32px;
    min-width: 32px;
    border-radius: var(--radius-sm);
    border: 2px solid var(--admin-border);
    cursor: pointer;
    transition: border-color 0.15s, transform 0.15s, box-shadow 0.15s;
    padding: 0;
    background: transparent;
    position: relative;
    overflow: hidden;
}

.preview-keyframe-modal__color-picker-btn:hover {
    border-color: #8b5cf6;
    transform: scale(1.05);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.preview-keyframe-modal__color-picker-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: inherit;
}

.preview-keyframe-modal__property-value--color {
    flex: 1;
    min-width: 80px;
}

/* Length/Angle input with unit dropdown */
.preview-keyframe-modal__property-input-group--length,
.preview-keyframe-modal__property-input-group--angle {
    gap: 0;
}

.preview-keyframe-modal__property-number {
    flex: 1;
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm) 0 0 var(--radius-sm);
    border-right: none;
    background: var(--admin-card-bg);
    color: var(--admin-text);
    min-width: 60px;
}

.preview-keyframe-modal__property-number:disabled {
    background: var(--admin-bg);
    color: var(--admin-text-muted);
    cursor: not-allowed;
}

.preview-keyframe-modal__property-unit {
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    background: var(--admin-bg);
    color: var(--admin-text);
    cursor: pointer;
    min-width: 50px;
}

.preview-keyframe-modal__property-unit:focus {
    outline: none;
    border-color: #8b5cf6;
    z-index: 1;
}

/* Enum dropdown */
.preview-keyframe-modal__property-enum {
    flex: 1;
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    cursor: pointer;
}

.preview-keyframe-modal__property-enum option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text, #e0e0e0);
    padding: var(--space-xs);
}

.preview-keyframe-modal__property-enum:focus {
    outline: none;
    border-color: #8b5cf6;
}

/* Unitless number input */
.preview-keyframe-modal__property-value--number {
    width: 80px;
    flex: 0 0 auto;
}

.preview-keyframe-modal__property-delete {
    background: none;
    border: none;
    padding: var(--space-2xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
}

.preview-keyframe-modal__property-delete:hover {
    color: #ef4444;
}

.preview-keyframe-modal__property-colon {
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
}

.preview-keyframe-modal__delete-property {
    background: none;
    border: none;
    padding: var(--space-2xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
    flex-shrink: 0;
}

.preview-keyframe-modal__delete-property:hover {
    color: #ef4444;
}

.preview-keyframe-modal__add-property {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: none;
    border: 1px dashed var(--admin-border);
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    cursor: pointer;
    transition: all 0.15s;
    margin-top: var(--space-sm);
}

.preview-keyframe-modal__add-property:hover {
    border-color: #8b5cf6;
    color: #8b5cf6;
    background: rgba(139, 92, 246, 0.05);
}

.preview-keyframe-modal__add-frame {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-sm);
    width: 100%;
    padding: var(--space-md);
    background: none;
    border: 2px dashed var(--admin-border);
    border-radius: var(--radius-md);
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s;
}

.preview-keyframe-modal__add-frame:hover {
    border-color: #8b5cf6;
    color: #8b5cf6;
    background: rgba(139, 92, 246, 0.05);
}

.preview-keyframe-modal__frame-actions {
    display: flex;
    gap: var(--space-xs);
}

.preview-keyframe-modal__delete-frame {
    background: none;
    border: none;
    padding: var(--space-xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
}

.preview-keyframe-modal__delete-frame:hover {
    color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
}

/* Footer */
.preview-keyframe-modal__footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md) var(--space-lg);
    border-top: 1px solid var(--admin-border);
    background: var(--admin-surface);
}

.preview-keyframe-modal__footer-right {
    display: flex;
    gap: var(--space-sm);
}

/* ==================== Transform Editor (Phase 9.3.1 Step 5) ==================== */

/* Transform input group in property row */
.preview-keyframe-modal__property-input-group--transform {
    display: flex;
    gap: var(--space-xs);
    flex: 1;
}

.preview-keyframe-modal__property-value--transform {
    flex: 1;
    min-width: 150px;
}

.preview-keyframe-modal__transform-edit-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2xs);
    padding: var(--space-2xs) var(--space-xs) !important;
    white-space: nowrap;
}

/* Transform Editor Modal Specifics */
.transform-editor__content {
    max-width: 600px;
    width: 90%;
}

.transform-editor__body {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
}

/* Current transform preview */
.transform-editor__preview {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.transform-editor__preview label {
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--admin-text-muted);
}

.transform-editor__current {
    padding: var(--space-sm);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    word-break: break-all;
    min-height: 36px;
}

/* Functions list section */
.transform-editor__functions {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.transform-editor__functions-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.transform-editor__functions-header label {
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--admin-text-muted);
}

/* Add function dropdown wrapper */
.transform-editor__add-wrapper {
    position: relative;
}

.transform-editor__dropdown {
    position: absolute;
    top: 100%;
    right: 0;
    margin-top: var(--space-xs);
    background: var(--admin-card-bg, #1e1e2e);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    z-index: 100;
    min-width: 180px;
    max-height: 350px;
    overflow-y: auto;
    display: none;
}

.transform-editor__dropdown--open {
    display: block;
}

.transform-editor__dropdown-category {
    padding: var(--space-xs) 0;
    border-bottom: 1px solid var(--admin-border);
    background: var(--admin-card-bg, #1e1e2e);
}

.transform-editor__dropdown-category:last-child {
    border-bottom: none;
}

.transform-editor__dropdown-label {
    padding: var(--space-xs) var(--space-sm);
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--admin-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.transform-editor__dropdown button {
    display: block;
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    background: none;
    border: none;
    text-align: left;
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    cursor: pointer;
    transition: background 0.15s;
}

.transform-editor__dropdown button:hover {
    background: var(--admin-surface-hover);
    color: #8b5cf6;
}

/* Functions list container */
.transform-editor__functions-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    min-height: 100px;
    max-height: 300px;
    overflow-y: auto;
    padding: var(--space-sm);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
}

/* Empty state */
.transform-editor__empty {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 80px;
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    font-style: italic;
}

/* Individual function row */
.transform-editor__function-row {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm);
    background: var(--admin-card-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
}

.transform-editor__function-row:hover {
    border-color: rgba(139, 92, 246, 0.3);
}

.transform-editor__function-row--dragging {
    opacity: 0.6;
    border-color: #8b5cf6;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

/* Drag handle */
.transform-editor__drag-handle {
    cursor: grab;
    color: var(--admin-text-muted);
    padding: var(--space-2xs);
    font-size: var(--font-size-sm);
    user-select: none;
}

.transform-editor__drag-handle:hover {
    color: var(--admin-text);
}

.transform-editor__drag-handle:active {
    cursor: grabbing;
}

/* Function name badge */
.transform-editor__function-name {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: #8b5cf6;
    min-width: 100px;
}

/* Parameters container */
.transform-editor__params {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    flex: 1;
}

/* Individual parameter */
.transform-editor__param {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xs);
}

.transform-editor__param label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    text-transform: uppercase;
}

.transform-editor__input-group {
    display: flex;
}

.transform-editor__input {
    width: 70px;
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-bg);
    color: var(--admin-text);
}

.transform-editor__input-group .transform-editor__input {
    border-radius: var(--radius-sm) 0 0 var(--radius-sm);
    border-right: none;
}

.transform-editor__input:focus {
    outline: none;
    border-color: #8b5cf6;
}

.transform-editor__unit {
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    background: var(--admin-card-bg);
    color: var(--admin-text);
    cursor: pointer;
    min-width: 45px;
}

.transform-editor__unit:focus {
    outline: none;
    border-color: #8b5cf6;
}

/* Delete function button */
.transform-editor__delete {
    background: none;
    border: none;
    padding: var(--space-2xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.15s;
    margin-left: auto;
}

.transform-editor__delete:hover {
    color: #ef4444;
    background: rgba(239, 68, 68, 0.1);
}

/* ==================== Transition Editor ==================== */
.transition-editor__content {
    max-width: 750px;
}

.transition-editor__body {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

/* Selector display in header */
.transition-editor__selector {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-primary);
    background: rgba(139, 92, 246, 0.1);
    padding: var(--space-2xs) var(--space-sm);
    border-radius: var(--radius-sm);
    margin-left: var(--space-sm);
}

/* Split view: Base vs Hover states */
.transition-editor__states {
    display: flex;
    align-items: stretch;
    gap: var(--space-md);
}

.transition-editor__state-panel {
    flex: 1;
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    min-height: 150px;
}

.transition-editor__state-header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding-bottom: var(--space-xs);
    border-bottom: 1px solid var(--admin-border);
}

.transition-editor__state-label {
    font-weight: 500;
    font-size: var(--font-size-sm);
    color: var(--admin-text);
}

.transition-editor__state-selector {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.transition-editor__pseudo-select {
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    cursor: pointer;
}

.transition-editor__pseudo-select option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text);
}

.transition-editor__state-properties {
    flex: 1;
    overflow-y: auto;
    max-height: 200px;
}

.transition-editor__property {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2xs) var(--space-xs);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
}

.transition-editor__property:hover {
    background: var(--admin-surface-hover);
}

.transition-editor__property-name {
    font-family: var(--font-mono);
    color: #f472b6;
}

.transition-editor__property-value {
    font-family: var(--font-mono);
    color: var(--admin-text-muted);
    max-width: 120px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.transition-editor__empty {
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
    font-style: italic;
    text-align: center;
    padding: var(--space-md);
}

/* Arrow between panels */
.transition-editor__arrow {
    display: flex;
    align-items: center;
    color: var(--admin-text-muted);
    flex-shrink: 0;
}

/* Add hover style button */
.transition-editor__add-hover {
    align-self: flex-start;
}

/* Transition Settings */
.transition-editor__settings {
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-md);
}

.transition-editor__settings-header {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    margin-bottom: var(--space-2xs);
}

.transition-editor__settings-title {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--admin-text);
    margin: 0;
}

.transition-editor__settings-hint {
    color: var(--admin-text-muted);
    cursor: help;
    display: flex;
    align-items: center;
}

.transition-editor__settings-hint:hover {
    color: var(--admin-accent);
}

.transition-editor__settings-description {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    margin: 0 0 var(--space-sm) 0;
    line-height: 1.4;
}

.transition-editor__settings-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-sm) var(--space-md);
}

.transition-editor__setting {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xs);
}

.transition-editor__setting--wide {
    grid-column: 1 / -1;
}

.transition-editor__setting label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-weight: 500;
}

.transition-editor__input-group {
    display: flex;
    align-items: center;
    min-width: 0;
    gap: 10px;
}

.transition-editor__input-group .admin-input {
    border-radius: var(--radius-sm) 0 0 var(--radius-sm);
    width: 70px;
    min-width: 60px;
    flex-shrink: 0;
}

.transition-editor__unit {
    padding: var(--space-2xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-left: none;
    border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
    background: var(--admin-card-bg);
    color: var(--admin-text-muted);
    white-space: nowrap;
}

/* Unit selector (s/ms toggle) */
.transition-editor__unit-select {
    font-size: var(--font-size-xs);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    cursor: pointer;
}

.transition-editor__unit-select:hover {
    background: var(--admin-surface-hover);
}

/* Property select and specific props */
.transition-editor__property-select {
    padding: var(--space-2xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    width: 100%;
}

.transition-editor__property-select option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text);
}

.transition-editor__specific-props {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-top: var(--space-xs);
}

.transition-editor__checkbox-label {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    font-size: var(--font-size-xs);
    color: var(--admin-text);
    background: var(--admin-card-bg);
    padding: var(--space-2xs) var(--space-xs);
    border-radius: var(--radius-sm);
    cursor: pointer;
}

.transition-editor__checkbox-label:hover {
    background: var(--admin-surface-hover);
}

.transition-editor__prop-checkbox {
    width: 14px;
    height: 14px;
    accent-color: var(--admin-primary);
}

/* Timing function row */
.transition-editor__timing-row {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.transition-editor__timing-select {
    padding: var(--space-2xs) var(--space-sm);
    font-size: var(--font-size-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
}

.transition-editor__timing-select option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text);
}

/* Cubic bezier inputs */
.transition-editor__cubic-bezier {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    font-size: var(--font-size-xs);
    font-family: var(--font-mono);
    color: var(--admin-text-muted);
    flex-wrap: wrap;
}

.admin-input--mini {
    width: 50px !important;
    padding: var(--space-2xs) var(--space-xs) !important;
    font-size: var(--font-size-xs) !important;
}

/* Preview value */
.transition-editor__preview-value {
    margin-top: var(--space-sm);
    padding-top: var(--space-sm);
    border-top: 1px solid var(--admin-border);
    display: flex;
    flex-direction: column;
    gap: var(--space-2xs);
}

.transition-editor__preview-value label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-weight: 500;
}

.transition-editor__preview-value code {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: var(--admin-success);
    background: rgba(34, 197, 94, 0.1);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    word-break: break-all;
}

/* Inline Add Property (Phase 10.2) */
.transition-editor__add-property {
    margin-top: auto;
    padding-top: var(--space-xs);
    border-top: 1px dashed var(--admin-border);
}

.transition-editor__add-property-toggle {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    background: transparent;
    border: 1px dashed var(--admin-border);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.15s ease;
    width: 100%;
    justify-content: center;
}

.transition-editor__add-property-toggle:hover {
    color: var(--admin-primary);
    border-color: var(--admin-primary);
    background: rgba(139, 92, 246, 0.05);
}

.transition-editor__add-property-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.transition-editor__add-property-row {
    display: flex;
    gap: var(--space-2xs);
    align-items: center;
}

.transition-editor__add-property-row .transition-editor__value-input,
.transition-editor__add-property-row .transition-editor__value-container {
    flex: 1;
    min-width: 0;
}

/* Value container uses QSValueInput component */
.transition-editor__value-container .qs-value-input {
    width: 100%;
}

.transition-editor__property-input,
.transition-editor__value-input {
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-xs);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-card-bg);
    color: var(--admin-text);
    width: 100%;
}

.transition-editor__property-input option {
    background: var(--admin-card-bg, #1e1e2e);
    color: var(--admin-text);
}

.transition-editor__add-property-form > div {
    display: flex;
    gap: var(--space-2xs);
}

.transition-editor__add-property-confirm,
.transition-editor__add-property-cancel {
    padding: var(--space-2xs);
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.transition-editor__add-property-confirm {
    background: var(--admin-success);
    color: white;
}

.transition-editor__add-property-confirm:hover {
    background: var(--admin-success-hover);
}

.transition-editor__add-property-cancel {
    background: var(--admin-surface-hover);
    color: var(--admin-text-muted);
}

.transition-editor__add-property-cancel:hover {
    background: var(--admin-danger);
    color: white;
}

/* Property item with edit/delete actions */
.transition-editor__property {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-2xs) var(--space-xs);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    gap: var(--space-xs);
}

.transition-editor__property-info {
    display: flex;
    flex-direction: column;
    flex: 1;
    min-width: 0;
}

.transition-editor__property-actions {
    display: none;
    gap: 2px;
    flex-shrink: 0;
}

.transition-editor__property:hover .transition-editor__property-actions {
    display: flex;
}

.transition-editor__property-btn {
    padding: 2px;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.transition-editor__property-btn:hover {
    background: var(--admin-surface-hover);
    color: var(--admin-text);
}

.transition-editor__property-btn--delete:hover {
    background: rgba(239, 68, 68, 0.15);
    color: var(--admin-danger);
}

/* Animation Sections (Phase 10.3) */
.transition-editor__animations {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.transition-editor__animations-info {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: var(--radius-sm);
    padding: var(--space-xs) var(--space-sm);
}

.transition-editor__animations-info svg {
    flex-shrink: 0;
    color: var(--admin-accent);
}

.transition-editor__animations-row {
    display: flex;
    gap: var(--space-md);
}

.transition-editor__animation-section {
    flex: 1;
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.transition-editor__animation-header {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding-bottom: var(--space-xs);
    border-bottom: 1px solid var(--admin-border);
}

.transition-editor__animation-label {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    font-size: var(--font-size-sm);
    font-weight: 500;
    color: var(--admin-text);
}

.transition-editor__animation-hint {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-style: italic;
    margin-left: auto;
}

.transition-editor__animation-content {
    flex: 1;
    min-height: 60px;
}

.transition-editor__animation-empty {
    color: var(--admin-text-muted);
    font-size: var(--font-size-xs);
    font-style: italic;
    text-align: center;
    padding: var(--space-sm);
}

.transition-editor__animation-config {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.transition-editor__animation-name {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-2xs) var(--space-xs);
    background: rgba(139, 92, 246, 0.1);
    border-radius: var(--radius-sm);
}

.transition-editor__animation-name > span {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: #a78bfa;
    flex: 1;
}

.transition-editor__animation-preview,
.transition-editor__animation-remove {
    padding: 4px;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.transition-editor__animation-preview:hover {
    background: var(--admin-surface-hover);
    color: var(--admin-primary);
}

.transition-editor__animation-remove:hover {
    background: rgba(239, 68, 68, 0.15);
    color: var(--admin-danger);
}

.transition-editor__animation-settings {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
}

.transition-editor__anim-setting {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.transition-editor__anim-setting label {
    white-space: nowrap;
}

.transition-editor__anim-setting .admin-input--mini {
    width: 60px !important;
}

.transition-editor__anim-checkbox {
    display: flex;
    align-items: center;
    gap: 2px;
    cursor: pointer;
    margin-left: var(--space-2xs);
}

.transition-editor__anim-checkbox input {
    width: 14px;
    height: 14px;
}

.transition-editor__animation-add {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2xs);
    padding: var(--space-2xs) var(--space-xs);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    background: transparent;
    border: 1px dashed var(--admin-border);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.15s ease;
}

.transition-editor__animation-add:hover {
    color: var(--admin-primary);
    border-color: var(--admin-primary);
    background: rgba(139, 92, 246, 0.05);
}

/* ==================== Animation Preview Modal (Phase 9.5) ==================== */

.animation-preview__content {
    width: 500px;
    max-width: 95vw;
}

.animation-preview__body {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.animation-preview__keyframe-name {
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
    color: #a78bfa;
    background: rgba(139, 92, 246, 0.15);
    padding: 2px 8px;
    border-radius: var(--radius-sm);
    margin-left: auto;
    margin-right: var(--space-md);
}

/* Preview Stage - where the logo animates */
.animation-preview__stage {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 200px;
    background: linear-gradient(135deg, var(--admin-bg) 0%, var(--admin-surface) 100%);
    border: 2px dashed var(--admin-border);
    border-radius: var(--radius-md);
    position: relative;
    overflow: hidden;
}

.animation-preview__stage::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: 
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
}

.animation-preview__logo {
    width: 80px;
    height: 80px;
    object-fit: contain;
    filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
    z-index: 1;
}

/* Animation Controls */
.animation-preview__controls {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-sm) var(--space-md);
}

.animation-preview__control {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xs);
}

.animation-preview__control label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-weight: 500;
}

.animation-preview__input-group {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

.animation-preview__input-group .admin-input {
    width: 90px;
    padding: var(--space-2xs) var(--space-sm);
    font-size: var(--font-size-sm);
}

.animation-preview__unit {
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
    min-width: 24px;
}

.animation-preview__control .admin-select {
    padding: var(--space-2xs) var(--space-sm);
    font-size: var(--font-size-sm);
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    color: var(--admin-text);
}

.animation-preview__checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-2xs);
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    cursor: pointer;
}

.animation-preview__checkbox input[type="checkbox"] {
    width: 14px;
    height: 14px;
    accent-color: var(--admin-accent);
}

/* CSS Preview */
.animation-preview__css-preview {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xs);
}

.animation-preview__css-preview label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-weight: 500;
}

.animation-preview__css-preview code {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: var(--admin-success);
    background: rgba(34, 197, 94, 0.1);
    padding: var(--space-xs) var(--space-sm);
    border-radius: var(--radius-sm);
    word-break: break-all;
    line-height: 1.5;
}

/* Play button special styling */
#animation-preview-play {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
}

#animation-preview-play svg {
    flex-shrink: 0;
}

/* Animations Group (for transitions/animations lists) */
.preview-animations-group {
    border-top: 1px solid var(--admin-border);
}

.preview-animations-group:first-child {
    border-top: none;
}

.preview-animations-group__header {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    width: 100%;
    padding: var(--space-sm) var(--space-md);
    background: transparent;
    border: none;
    color: var(--admin-text);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: background 0.15s;
}

.preview-animations-group__header:hover {
    background: var(--admin-surface-hover);
}

.preview-animations-group__arrow {
    transition: transform 0.2s;
    flex-shrink: 0;
}

.preview-animations-group__header--expanded .preview-animations-group__arrow {
    transform: rotate(0deg);
}

.preview-animations-group__header:not(.preview-animations-group__header--expanded) .preview-animations-group__arrow {
    transform: rotate(-90deg);
}

.preview-animations-group__title {
    flex: 1;
    text-align: left;
}

.preview-animations-group__count {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    background: var(--admin-bg);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
}

.preview-animations-group__list {
    display: flex;
    flex-direction: column;
    max-height: 1000px;
    opacity: 1;
    overflow: hidden;
    transition: max-height 0.3s ease-out, opacity 0.2s ease-out;
}

.preview-animations-group__list--collapsed {
    max-height: 0;
    opacity: 0;
    transition: max-height 0.15s ease-in, opacity 0.1s ease-in;
}

/* Animated Selector Item */
.preview-animated-selector {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) var(--space-md);
    padding-left: calc(var(--space-md) + 18px);
    border-bottom: 1px solid var(--admin-border);
    transition: background 0.15s;
}

.preview-animated-selector:last-child {
    border-bottom: none;
}

.preview-animated-selector:hover {
    background: var(--admin-surface-hover);
}

.preview-animated-selector__name {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: #10b981;
    background: rgba(16, 185, 129, 0.1);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 120px;
}

/* Clickable selector name in group headers */
.preview-animated-selector-group__header > .preview-animated-selector__name {
    cursor: pointer;
    transition: background 0.15s;
}

.preview-animated-selector-group__header > .preview-animated-selector__name:hover {
    background: rgba(16, 185, 129, 0.2);
}

.preview-animated-selector__details {
    flex: 1;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.preview-animated-selector__edit {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    padding: 0;
    border: 1px solid transparent;
    background: transparent;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.15s;
    flex-shrink: 0;
}

.preview-animated-selector__edit:hover {
    color: var(--admin-accent);
    border-color: var(--admin-accent);
    background: rgba(139, 92, 246, 0.1);
}

/* Transition Editor button */
.preview-animated-selector__transition-edit {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 22px;
    height: 22px;
    padding: 0;
    border: 1px solid transparent;
    background: transparent;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all 0.15s;
    flex-shrink: 0;
}

.preview-animated-selector__transition-edit:hover {
    color: var(--admin-success);
    border-color: var(--admin-success);
    background: rgba(34, 197, 94, 0.1);
}

.preview-animated-selector--empty {
    padding: var(--space-sm) var(--space-md);
    padding-left: calc(var(--space-md) + 18px);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    font-style: italic;
}

/* Clickable animated selector (opens State & Animation Editor) */
.preview-animated-selector--clickable {
    cursor: pointer;
}

.preview-animated-selector--clickable:hover {
    background: var(--admin-surface-hover);
}

.preview-animated-selector--clickable:hover .preview-animated-selector__arrow {
    color: var(--admin-accent);
    transform: translateX(2px);
}

/* Arrow indicator for clickable items */
.preview-animated-selector__arrow {
    flex-shrink: 0;
    color: var(--admin-text-muted);
    opacity: 0.5;
    transition: all 0.15s;
    margin-left: auto;
}

.preview-animated-selector--clickable:hover .preview-animated-selector__arrow,
.preview-animated-selector-group__header--clickable:hover .preview-animated-selector__arrow {
    opacity: 1;
    color: var(--admin-accent);
    transform: translateX(2px);
}

/* Animated Selector Group (with pseudo-states tree) */
.preview-animated-selector-group {
    border-bottom: 1px solid var(--admin-border);
}

.preview-animated-selector-group:last-child {
    border-bottom: none;
}

.preview-animated-selector-group__header {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) var(--space-md);
    transition: background 0.15s;
    cursor: pointer;
}

.preview-animated-selector-group__header:hover {
    background: var(--admin-surface-hover);
}

.preview-animated-selector-group__toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    padding: 0;
    border: none;
    background: transparent;
    color: var(--admin-text-muted);
    cursor: pointer;
    flex-shrink: 0;
    transition: transform 0.2s;
}

.preview-animated-selector-group__toggle:hover {
    color: var(--admin-text);
}

.preview-animated-selector-group--collapsed .preview-animated-selector-group__toggle {
    transform: rotate(-90deg);
}

.preview-animated-selector-group__states {
    padding-left: var(--space-lg);
    border-left: 2px solid var(--admin-border);
    margin-left: calc(var(--space-md) + 8px);
    max-height: 500px; /* Large enough for content */
    opacity: 1;
    transition: max-height 0.25s ease-out, opacity 0.2s ease-out;
    overflow: hidden;
}

.preview-animated-selector-group--collapsed .preview-animated-selector-group__states {
    max-height: 0;
    opacity: 0;
    padding-top: 0;
    padding-bottom: 0;
}

.preview-animated-selector__state-count {
    font-size: var(--font-size-2xs);
    color: var(--admin-text-muted);
    background: var(--admin-surface-elevated);
    padding: 2px 6px;
    border-radius: var(--radius-full);
    white-space: nowrap;
}

/* State item (nested pseudo-class) */
.preview-animated-selector-state {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-xs) var(--space-sm);
    transition: background 0.15s;
}

.preview-animated-selector-state:hover {
    background: var(--admin-surface-hover);
}

/* Clickable state items */
.preview-animated-selector-state--clickable {
    cursor: pointer;
    border-radius: var(--radius-sm);
}

.preview-animated-selector-state--clickable:hover {
    background: rgba(139, 92, 246, 0.1);
}

/* Clickable group header */
.preview-animated-selector-group__header--clickable {
    cursor: pointer;
}

.preview-animated-selector-group__header--clickable:hover {
    background: var(--admin-surface-hover);
}

.preview-animated-selector-state__pseudo {
    font-family: var(--font-mono);
    font-size: var(--font-size-xs);
    color: #f59e0b;
    background: rgba(245, 158, 11, 0.15);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    white-space: nowrap;
}

.preview-animated-selector-state__props {
    flex: 1;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Orphan transition hint (transition without direct :hover/:active etc) */
.preview-animated-selector--orphan {
    border-left: 2px solid #f59e0b;
    flex-direction: column;
    align-items: stretch;
}

.preview-animated-selector__main {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    flex: 1;
}

.preview-animated-selector__orphan-hint {
    display: flex;
    align-items: flex-start;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    margin-top: var(--space-xs);
    font-size: var(--font-size-xs);
    color: #60a5fa;
    background: rgba(96, 165, 250, 0.1);
    border-radius: var(--radius-sm);
}

.preview-animated-selector__orphan-hint svg {
    flex-shrink: 0;
    margin-top: 1px;
}

.preview-animated-selector__orphan-hint code {
    font-size: var(--font-size-xs);
    color: #a78bfa;
    background: rgba(167, 139, 250, 0.15);
    padding: 1px 4px;
    border-radius: var(--radius-sm);
}

.preview-animated-selector__orphan-hint--warning {
    color: #fbbf24;
    background: rgba(251, 191, 36, 0.1);
}

/* Trigger group (pseudo-states without transition) - muted styling */
.preview-animations-group--triggers {
    opacity: 0.8;
}

.preview-animations-group__count--muted {
    background: var(--admin-surface-hover);
    color: var(--admin-text-muted);
}

.preview-animated-selector-group--trigger {
    border-left: 2px solid var(--admin-border);
}

.preview-animated-selector__name--muted {
    color: var(--admin-text-muted);
}

.preview-animated-selector__state-count--muted {
    background: var(--admin-surface-hover);
    color: var(--admin-text-muted);
}

.preview-animated-selector-state--trigger .preview-animated-selector-state__pseudo {
    color: var(--admin-text-muted);
    background: var(--admin-surface-hover);
}

/* Node Info Panel (DEPRECATED - Phase 8 moves to contextual area) */
.preview-node-panel {
    position: fixed;
    right: var(--space-lg);
    top: 50%;
    transform: translateY(-50%) translateX(120%);
    width: 320px;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
}

.preview-node-panel--visible {
    transform: translateY(-50%) translateX(0);
    opacity: 1;
    visibility: visible;
}

/* When panel has been dragged, disable the default positioning */
.preview-node-panel--dragged {
    right: auto;
    top: auto;
    transform: none;
}

.preview-node-panel__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-md);
    border-bottom: 1px solid var(--admin-border);
    cursor: grab;
}

.preview-node-panel__header:active {
    cursor: grabbing;
}

/* Drag grip icon for panels */
.preview-panel-drag-icon {
    width: 14px;
    height: 14px;
    color: var(--admin-text-muted);
    opacity: 0.5;
    flex-shrink: 0;
    margin-right: var(--space-xs);
}

.preview-node-panel__title {
    margin: 0;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-semibold);
    color: var(--admin-text);
}

.preview-node-panel__close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    padding: 0;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-node-panel__close svg {
    width: 16px;
    height: 16px;
}

.preview-node-panel__close:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-node-panel__content {
    padding: var(--space-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.preview-node-panel__row {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
}

.preview-node-panel__label {
    flex-shrink: 0;
    width: 80px;
    font-size: var(--font-size-sm);
    color: var(--admin-text-muted);
}

.preview-node-panel__value {
    flex: 1;
    font-size: var(--font-size-sm);
    color: var(--admin-text);
    word-break: break-all;
}

.preview-node-panel__value--truncate {
    max-height: 40px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

code.preview-node-panel__value {
    padding: 2px 6px;
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-sm);
    font-family: 'Fira Code', 'Monaco', monospace;
    font-size: var(--font-size-xs);
}

.preview-node-panel__value--highlight {
    color: var(--admin-primary);
    font-weight: 500;
}

.preview-node-panel__value--component {
    background: rgba(37, 99, 235, 0.1);
    color: #2563eb;
    border: 1px solid rgba(37, 99, 235, 0.3);
}

.preview-node-panel__value--textkey {
    background: rgba(234, 179, 8, 0.1);
    color: #b45309;
    border: 1px solid rgba(234, 179, 8, 0.3);
    font-size: 0.75rem;
    word-break: break-all;
}

.preview-node-panel__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
    padding: var(--space-md);
    border-top: 1px solid var(--admin-border);
}

.preview-node-panel__actions .admin-btn {
    flex: 0 0 auto;
}

/* Make text buttons take more space, icon buttons stay small */
.preview-node-panel__actions .admin-btn--primary,
.preview-node-panel__actions .admin-btn--ghost {
    flex: 1 1 auto;
    min-width: 100px;
}

/* Node panel responsive - centered on small screens */
@media (max-width: 768px) {
    .preview-node-panel {
        right: 5%;
        left: 5%;
        width: 90%;
        transform: translateY(-50%) translateX(120%);
    }
    
    .preview-node-panel--visible {
        transform: translateY(-50%) translateX(0);
    }
    
    .preview-node-panel__actions {
        justify-content: center;
    }
    
    .preview-node-panel__actions .admin-btn {
        flex: 1 1 calc(50% - var(--space-sm));
        min-width: 0;
    }
    
    .preview-node-panel__actions .admin-btn--sm:has(svg):not(:has(span)) {
        flex: 0 0 auto;
        min-width: 36px;
    }
}

/* Style Panel */
.preview-style-panel {
    position: fixed;
    right: var(--space-lg);
    top: 50%;
    transform: translateY(-50%) translateX(120%);
    width: 300px;
    max-height: 80vh;
    background: var(--admin-surface);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-lg);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
    display: flex;
    flex-direction: column;
}

.preview-style-panel--visible {
    transform: translateY(-50%) translateX(0);
    opacity: 1;
    visibility: visible;
}

/* When panel has been dragged, disable the default positioning */
.preview-style-panel--dragged {
    right: auto;
    top: auto;
    transform: none;
}

.preview-style-panel__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--admin-border);
    flex-shrink: 0;
    background: rgba(139, 92, 246, 0.1);
    cursor: grab;
}

.preview-style-panel__header:active {
    cursor: grabbing;
}

.preview-style-panel__title {
    margin: 0;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    color: #8b5cf6;
}

.preview-style-panel__close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 24px;
    height: 24px;
    padding: 0;
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.preview-style-panel__close svg {
    width: 14px;
    height: 14px;
}

.preview-style-panel__close:hover {
    color: var(--admin-text);
    background: var(--admin-surface-hover);
}

.preview-style-panel__info {
    padding: var(--space-sm) var(--space-md);
    border-bottom: 1px solid var(--admin-border);
    background: var(--admin-bg-secondary);
    flex-shrink: 0;
}

.preview-style-panel__selector-row {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    margin-bottom: 4px;
}

.preview-style-panel__label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.preview-style-panel__selector-value {
    font-size: var(--font-size-xs);
    font-family: 'Fira Code', 'Monaco', monospace;
    color: #8b5cf6;
    word-break: break-all;
}

.preview-style-panel__notice {
    font-size: 10px;
    color: var(--admin-text-muted);
    font-style: italic;
    line-height: 1.3;
}

.preview-style-panel__content {
    padding: var(--space-sm) var(--space-md);
    overflow-y: auto;
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.preview-style-panel__row {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    overflow: hidden;
}

.preview-style-panel__prop-label {
    width: 90px;
    flex-shrink: 0;
    font-size: 11px;
    font-family: 'Fira Code', 'Monaco', monospace;
    color: var(--admin-text-muted);
}

.preview-style-input {
    flex: 1;
    min-width: 0;
    padding: 5px 8px;
    font-size: var(--font-size-xs);
    font-family: 'Fira Code', 'Monaco', monospace;
    background: var(--admin-input-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    color: var(--admin-text);
    transition: border-color 0.2s ease;
}

.preview-style-input:focus {
    outline: none;
    border-color: #8b5cf6;
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.preview-style-input--changed {
    border-color: #f59e0b;
    background: rgba(245, 158, 11, 0.1);
}

select.preview-style-input {
    cursor: pointer;
}

/* QSColorPicker integration - constrain width to prevent overflow */
.preview-style-input--color {
    flex: 0 1 auto;
    min-width: 0;
    max-width: 100px;
}

/* Override QS Color Picker wrapper within style panel */
.preview-style-panel__row .qs-cp-input-wrap {
    flex: 1;
    min-width: 0;
    max-width: calc(100% - 90px - var(--space-sm));
}

.preview-style-panel__row .qs-cp-swatch {
    flex-shrink: 0;
}


.preview-style-panel__actions {
    display: flex;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    border-top: 1px solid var(--admin-border);
    flex-shrink: 0;
}

.preview-style-panel__actions .admin-btn {
    flex: 1;
    justify-content: center;
    gap: 4px;
}

.preview-style-panel__actions .admin-btn--primary {
    background: #8b5cf6;
    border-color: #8b5cf6;
}

.preview-style-panel__actions .admin-btn--primary:hover {
    background: #7c3aed;
    border-color: #7c3aed;
}

/* Style panel responsive */
@media (max-width: 768px) {
    .preview-style-panel {
        right: 5%;
        left: 5%;
        width: 90%;
        max-height: 70vh;
        transform: translateY(-50%) translateX(120%);
    }
    
    .preview-style-panel--visible {
        transform: translateY(-50%) translateX(0);
    }
}

/* JS Mode Contextual Section */
.preview-contextual-section--js {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.preview-contextual-js-element {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-sm);
    background: rgba(245, 158, 11, 0.1);
    border-radius: var(--radius-md);
    border: 1px solid rgba(245, 158, 11, 0.2);
}

.preview-contextual-js-label {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.preview-contextual-js-value {
    font-size: var(--font-size-xs);
    font-family: 'Fira Code', 'Monaco', monospace;
    color: #f59e0b;
    word-break: break-all;
}

.preview-contextual-js-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.preview-contextual-js-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.preview-contextual-js-empty {
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
    text-align: center;
    padding: var(--space-md);
    font-style: italic;
}

/* JS Interaction Card */
.preview-js-event-group {
    margin-bottom: var(--space-sm);
}

.preview-js-event-group:last-child {
    margin-bottom: 0;
}

.preview-js-event-header {
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: #f59e0b;
    margin-bottom: var(--space-xs);
    padding-left: var(--space-xs);
    border-left: 2px solid #f59e0b;
}

.preview-js-interaction {
    background: var(--admin-bg-secondary);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-sm);
    margin-bottom: var(--space-xs);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-sm);
}

.preview-js-interaction:last-child {
    margin-bottom: 0;
}

.preview-js-interaction__header {
    font-size: var(--font-size-xs);
    margin-bottom: var(--space-xs);
    color: var(--admin-text-muted);
}

.preview-js-interaction__header strong {
    color: #f59e0b;
}

.preview-js-interaction__body {
    font-size: 11px;
    flex: 1;
    min-width: 0;
}

.preview-js-interaction__function {
    font-family: var(--font-mono);
    color: var(--admin-text);
    word-break: break-word;
}

.preview-js-interaction__body div {
    margin-bottom: 4px;
}

.preview-js-interaction__body strong {
    color: var(--admin-text);
}

.preview-js-interaction__actions {
    display: flex;
    gap: var(--space-xs);
    flex-shrink: 0;
}

/* JS Actions */
.preview-contextual-js-actions {
    padding-top: var(--space-sm);
    border-top: 1px solid var(--admin-border);
}

.preview-contextual-js-actions .admin-btn {
    width: 100%;
    justify-content: center;
    gap: 4px;
}

.preview-contextual-js-actions .admin-btn--primary {
    background: #f59e0b;
    border-color: #f59e0b;
}

.preview-contextual-js-actions .admin-btn--primary:hover {
    background: #d97706;
    border-color: #d97706;
}

/* JS Add Form */
.preview-contextual-js-form {
    padding: var(--space-sm);
    background: var(--admin-bg-secondary);
    border-radius: var(--radius-md);
    border: 1px solid var(--admin-border);
}

.preview-contextual-js-form-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-sm);
}

.preview-contextual-js-form-header strong {
    font-size: var(--font-size-sm);
    color: #f59e0b;
}

.preview-contextual-js-form-close {
    background: transparent;
    border: none;
    cursor: pointer;
    color: var(--admin-text-secondary);
    padding: 4px;
    border-radius: var(--radius-sm);
    transition: all 0.2s;
}

.preview-contextual-js-form-close:hover {
    background: var(--admin-bg-tertiary);
    color: var(--admin-text);
}

.preview-contextual-js-form-row {
    margin-bottom: var(--space-sm);
    overflow: visible;
}

.preview-contextual-js-form-label {
    display: block;
    font-size: 0.7rem;
    color: var(--admin-text-secondary);
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.preview-contextual-js-form-label .required {
    color: #ef4444;
}

.preview-contextual-js-form-select,
.preview-contextual-js-form-input {
    width: 100%;
    padding: var(--space-xs) var(--space-sm);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-sm);
    background: var(--admin-bg);
    color: var(--admin-text);
    font-size: 0.8rem;
    transition: border-color 0.2s;
}

.preview-contextual-js-form-select:focus,
.preview-contextual-js-form-input:focus {
    outline: none;
    border-color: #f59e0b;
    box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
}

.preview-contextual-js-form-select optgroup {
    font-weight: bold;
    color: var(--admin-text-secondary);
}

.preview-contextual-js-form-select option {
    font-weight: normal;
    color: var(--admin-text);
}

.preview-contextual-js-form-params {
    margin: var(--space-sm) 0;
}

.preview-contextual-js-form-hint {
    font-size: 0.7rem;
    color: var(--admin-text-muted);
    font-style: italic;
}

.preview-contextual-js-form-preview {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    background: #1a1a2e;
    border-radius: var(--radius-sm);
    border: 1px solid #f59e0b33;
    margin: var(--space-sm) 0;
}

.preview-contextual-js-form-preview .preview-contextual-js-form-label {
    margin: 0;
    color: #f59e0b;
    white-space: nowrap;
}

.preview-contextual-js-form-code {
    font-family: 'Fira Code', 'Consolas', monospace;
    font-size: 0.75rem;
    color: #a5d6a7;
    word-break: break-all;
}

.preview-contextual-js-form-actions {
    display: flex;
    gap: var(--space-sm);
    margin-top: var(--space-sm);
}

.preview-contextual-js-form-actions .admin-btn {
    flex: 1;
    justify-content: center;
}

.preview-contextual-js-form-actions .admin-btn--primary {
    background: #f59e0b;
    border-color: #f59e0b;
}

.preview-contextual-js-form-actions .admin-btn--primary:hover:not(:disabled) {
    background: #d97706;
    border-color: #d97706;
}

.preview-contextual-js-form-actions .admin-btn--primary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* JS Picker (searchable selector/class input) */
.preview-js-picker-wrapper {
    position: relative;
    width: 100%;
    box-sizing: border-box;
}

.preview-js-picker-input {
    width: 100%;
    box-sizing: border-box;
}

.preview-js-picker-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    max-height: 180px;
    overflow-y: auto;
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-top: none;
    border-radius: 0 0 var(--radius-sm) var(--radius-sm);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    z-index: 100;
}

.preview-js-picker-option {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-xs) var(--space-sm);
    cursor: pointer;
    font-size: 0.75rem;
    color: var(--admin-text);
    transition: background 0.15s;
}

.preview-js-picker-option:hover,
.preview-js-picker-option--active {
    background: var(--admin-hover);
}

.preview-js-picker-type {
    font-size: 0.7rem;
    color: var(--admin-text-muted);
    min-width: 12px;
    text-align: center;
}

.preview-js-picker-option[data-value="this"] .preview-js-picker-type {
    color: #f59e0b;
}

/* Add Node Modal */
.preview-add-node-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
}

.preview-add-node-modal__backdrop {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(2px);
}

.preview-add-node-modal__content {
    position: relative;
    background: var(--admin-card-bg);
    border-radius: var(--radius-lg);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    width: 90%;
    max-width: 480px;
    max-height: 90vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

.preview-add-node-modal__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-md) var(--space-lg);
    border-bottom: 1px solid var(--admin-border);
}

.preview-add-node-modal__header h3 {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--admin-text);
}

.preview-add-node-modal__close {
    background: transparent;
    border: none;
    padding: var(--space-xs);
    cursor: pointer;
    color: var(--admin-text-muted);
    border-radius: var(--radius-sm);
    transition: all 0.2s;
}

.preview-add-node-modal__close:hover {
    background: var(--admin-hover);
    color: var(--admin-text);
}

.preview-add-node-modal__close svg {
    width: 20px;
    height: 20px;
}

.preview-add-node-modal__body {
    padding: var(--space-lg);
    overflow-y: auto;
    flex: 1;
}

.preview-add-node-modal__field {
    margin-bottom: var(--space-md);
}

.preview-add-node-modal__field:last-child {
    margin-bottom: 0;
}

.preview-add-node-modal__field label {
    display: block;
    margin-bottom: var(--space-xs);
    font-weight: 500;
    color: var(--admin-text);
    font-size: 0.9rem;
}

.preview-add-node-modal__field label small {
    font-weight: 400;
    color: var(--admin-text-muted);
}

.preview-add-node-modal__tabs {
    display: flex;
    gap: var(--space-xs);
    background: var(--admin-bg);
    padding: var(--space-xs);
    border-radius: var(--radius-md);
}

.preview-add-node-modal__tab {
    flex: 1;
    padding: var(--space-sm) var(--space-md);
    background: transparent;
    border: none;
    border-radius: var(--radius-sm);
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--admin-text-muted);
    cursor: pointer;
    transition: all 0.2s;
}

.preview-add-node-modal__tab:hover {
    color: var(--admin-text);
    background: var(--admin-hover);
}

.preview-add-node-modal__tab.active {
    background: var(--admin-primary);
    color: white;
}

.preview-add-node-modal__footer {
    display: flex;
    gap: var(--space-sm);
    justify-content: flex-end;
    padding: var(--space-md) var(--space-lg);
    border-top: 1px solid var(--admin-border);
    background: var(--admin-bg);
}

/* Radio button type selector */
.preview-add-node-modal__type-selector {
    display: flex;
    gap: var(--space-lg);
}

.preview-add-node-modal__radio {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    cursor: pointer;
    font-weight: 400;
}

.preview-add-node-modal__radio input[type="radio"] {
    accent-color: var(--admin-primary);
    width: 16px;
    height: 16px;
}

.preview-add-node-modal__radio--disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.preview-add-node-modal__radio--disabled small {
    font-size: 0.75rem;
    color: var(--admin-text-muted);
    margin-left: var(--space-xs);
}

/* Hint text below fields */
.preview-add-node-modal__hint {
    display: block;
    margin-top: var(--space-xs);
    font-size: 0.75rem;
    color: var(--admin-text-muted);
}

/* Section for grouped fields */
.preview-add-node-modal__section {
    margin-bottom: var(--space-md);
}

.preview-add-node-modal__section-label {
    display: block;
    margin-bottom: var(--space-sm);
    font-weight: 500;
    color: var(--admin-text);
    font-size: 0.9rem;
}

/* Text content section for components */
.preview-add-node-modal__text-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.preview-add-node-modal__hint {
    font-size: 0.8rem;
    color: var(--admin-text-muted);
    line-height: 1.3;
}

/* Mandatory params container */
.preview-add-node-modal__mandatory-fields {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

/* Parameter row (key: value) */
.preview-add-node-modal__param-row {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-add-node-modal__param-label {
    min-width: 60px;
    font-weight: 500;
    font-size: 0.85rem;
    color: var(--admin-text);
}

.preview-add-node-modal__param-input {
    flex: 1;
}

/* Custom param row with key/value/remove */
.preview-add-node-modal__param-row--custom {
    display: grid;
    grid-template-columns: 1fr 1fr auto;
    gap: var(--space-sm);
}

.preview-add-node-modal__param-key,
.preview-add-node-modal__param-value {
    font-size: 0.9rem;
}

.preview-add-node-modal__remove-param {
    background: transparent;
    border: none;
    padding: var(--space-xs);
    cursor: pointer;
    color: var(--admin-danger);
    border-radius: var(--radius-sm);
    opacity: 0.7;
    transition: all 0.2s;
}

.preview-add-node-modal__remove-param:hover {
    background: var(--admin-danger-bg, rgba(239, 68, 68, 0.1));
    opacity: 1;
}

/* Expand button for custom params */
.preview-add-node-modal__expand-btn {
    display: flex;
    align-items: center;
    gap: var(--space-xs);
    background: transparent;
    border: 1px dashed var(--admin-border);
    border-radius: var(--radius-sm);
    padding: var(--space-sm) var(--space-md);
    color: var(--admin-text-muted);
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
    width: 100%;
    justify-content: center;
}

.preview-add-node-modal__expand-btn:hover {
    border-color: var(--admin-primary);
    color: var(--admin-primary);
    background: var(--admin-primary-bg, rgba(79, 70, 229, 0.05));
}

.preview-add-node-modal__expand-btn svg {
    transition: transform 0.2s;
}

/* Custom params container */
.preview-add-node-modal__custom-params {
    margin-top: var(--space-sm);
    padding: var(--space-md);
    background: var(--admin-bg);
    border-radius: var(--radius-md);
}

.preview-add-node-modal__param-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.preview-add-node-modal__add-param-btn {
    background: transparent;
    border: none;
    color: var(--admin-primary);
    font-size: 0.85rem;
    cursor: pointer;
    padding: var(--space-xs) 0;
}

.preview-add-node-modal__add-param-btn:hover {
    text-decoration: underline;
}

/* TextKey info box */
.preview-add-node-modal__info {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-info-bg, rgba(59, 130, 246, 0.1));
    border: 1px solid var(--admin-info-border, rgba(59, 130, 246, 0.2));
    border-radius: var(--radius-md);
    font-size: 0.85rem;
    color: var(--admin-text-muted);
    margin-top: var(--space-md);
}

.preview-add-node-modal__info code {
    background: var(--admin-bg);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    font-family: monospace;
    font-size: 0.8rem;
    color: var(--admin-primary);
}

.preview-add-node-modal__info svg {
    color: var(--admin-info, #3b82f6);
}

/* Node info variant */
.preview-add-node-modal__info--node {
    background: var(--admin-bg-alt, rgba(0, 0, 0, 0.05));
    border: 1px solid var(--admin-border);
    margin-top: 0;
    margin-bottom: var(--space-md);
}

.preview-add-node-modal__info--node code {
    color: var(--admin-text);
    font-weight: 600;
}

/* Warning message box */
.preview-add-node-modal__warning {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm);
    padding: var(--space-md);
    background: var(--admin-warning-bg, rgba(245, 158, 11, 0.1));
    border: 1px solid var(--admin-warning-border, rgba(245, 158, 11, 0.3));
    border-radius: var(--radius-md);
    font-size: 0.9rem;
    color: var(--admin-text);
    margin-bottom: var(--space-md);
}

.preview-add-node-modal__warning svg {
    color: var(--admin-warning, #f59e0b);
    flex-shrink: 0;
    margin-top: 2px;
}

/* Variable collision warning - slightly more prominent */
.preview-add-node-modal__warning--collision {
    background: var(--admin-warning-bg, rgba(245, 158, 11, 0.15));
    border-color: var(--admin-warning, #f59e0b);
}

.preview-add-node-modal__warning--collision code {
    background: rgba(0, 0, 0, 0.1);
    padding: 2px 6px;
    border-radius: 3px;
    font-family: monospace;
    font-size: 0.9em;
}

/* Edit param row styles */
.preview-add-node-modal__param-row--edit {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    margin-bottom: var(--space-sm);
}

.preview-add-node-modal__param-row--edit .preview-add-node-modal__param-label {
    min-width: 80px;
    font-size: 0.9rem;
    color: var(--admin-text-muted);
}

.preview-add-node-modal__param-row--edit .preview-add-node-modal__param-input {
    flex: 1;
}

.preview-add-node-modal__param-row--new {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-add-node-modal__param-row--new .preview-add-node-modal__param-key {
    width: 120px;
    flex-shrink: 0;
}

.preview-add-node-modal__param-row--new .preview-add-node-modal__param-value {
    flex: 1;
}

/* Component variables list */
.preview-add-node-modal__component-vars-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-md);
}

.preview-add-node-modal__component-var-row {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.preview-add-node-modal__var-label {
    font-weight: 500;
    font-size: 0.9rem;
    color: var(--admin-text);
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.preview-add-node-modal__var-type {
    font-weight: 400;
    font-size: 0.75rem;
    padding: 2px 6px;
    border-radius: var(--radius-sm);
}

.preview-add-node-modal__var-type--param {
    background: var(--admin-info-bg, rgba(59, 130, 246, 0.1));
    color: var(--admin-info, #3b82f6);
}

.preview-add-node-modal__var-type--text {
    background: var(--admin-success-bg, rgba(34, 197, 94, 0.1));
    color: var(--admin-success, #22c55e);
}

.preview-add-node-modal__var-input {
    width: 100%;
}

.preview-add-node-modal__var-readonly {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
    padding: var(--space-sm) var(--space-md);
    background: var(--admin-bg-alt, rgba(0, 0, 0, 0.03));
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    font-size: 0.85rem;
}

.preview-add-node-modal__var-readonly code {
    flex: 1;
    background: transparent;
    padding: 0;
    font-family: monospace;
    font-size: 0.8rem;
    color: var(--admin-text-muted);
    word-break: break-all;
}

/* Mode-specific container styles */
.preview-container[data-mode="select"] {
    cursor: crosshair;
}

.preview-container[data-mode="drag"] {
    cursor: grab;
}

.preview-container[data-mode="text"] {
    cursor: text;
}

.preview-container[data-mode="style"] {
    cursor: pointer;
}

/* ========================================
   MINIPLAYER STYLES
   ======================================== */

/* Miniplayer toggle button icon states */
.preview-miniplayer-icon--expand,
.preview-miniplayer-text--expand {
    display: none;
}

/* Miniplayer mode - floating window */
.preview-page--miniplayer .preview-container {
    position: fixed;
    bottom: var(--space-lg);
    right: var(--space-lg);
    width: 400px;
    height: 300px;
    z-index: 1000;
    border-radius: var(--radius-lg);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    border: 2px solid var(--admin-border);
    background: var(--admin-bg);
    resize: both;
    overflow: hidden;
    min-width: 280px;
    min-height: 200px;
    max-width: 90vw;
    max-height: 80vh;
}

.preview-page--miniplayer .preview-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 28px;
    background: var(--admin-bg-secondary);
    border-bottom: 1px solid var(--admin-border);
    cursor: move;
    z-index: 1;
}

.preview-page--miniplayer .preview-frame-wrapper {
    position: absolute;
    top: 28px;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100% !important;
    height: calc(100% - 28px) !important;
}

.preview-page--miniplayer .preview-iframe {
    width: 100%;
    height: 100%;
}

/* Hide toolbar in miniplayer mode */
.preview-page--miniplayer .preview-toolbar {
    display: none;
}

/* Hide header content in miniplayer (show floating controls instead) */
.preview-page--miniplayer .admin-page-header {
    display: none;
}

/* Hide node panel in miniplayer */
.preview-page--miniplayer .preview-node-panel {
    display: none;
}

/* Miniplayer floating controls */
.preview-miniplayer-controls {
    position: absolute;
    top: 4px;
    right: 8px;
    display: none;
    gap: var(--space-xs);
    z-index: 2;
}

.preview-page--miniplayer .preview-miniplayer-controls {
    display: flex;
}

.preview-miniplayer-controls__btn {
    width: 20px;
    height: 20px;
    padding: 0;
    border: none;
    background: transparent;
    color: var(--admin-text-secondary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    transition: color 0.15s, background 0.15s;
}

.preview-miniplayer-controls__btn:hover {
    color: var(--admin-text);
    background: var(--admin-bg-tertiary);
}

.preview-miniplayer-controls__btn svg {
    width: 14px;
    height: 14px;
}

/* Resize handle indicator */
.preview-page--miniplayer .preview-container::after {
    content: '';
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 12px;
    height: 12px;
    background: linear-gradient(135deg, transparent 50%, var(--admin-text-muted) 50%);
    opacity: 0.5;
    pointer-events: none;
}

/* Dragging state */
.preview-container.preview-container--dragging {
    opacity: 0.9;
    cursor: move;
}

/* Toggle button state in miniplayer mode */
.preview-page--miniplayer .preview-miniplayer-icon--minimize {
    display: none;
}
.preview-page--miniplayer .preview-miniplayer-icon--expand {
    display: block;
}
.preview-page--miniplayer .preview-miniplayer-text--minimize {
    display: none;
}
.preview-page--miniplayer .preview-miniplayer-text--expand {
    display: inline;
}

/* Responsive miniplayer */
@media (max-width: 768px) {
    .preview-page--miniplayer .preview-container {
        width: 280px;
        height: 200px;
        bottom: var(--space-md);
        right: var(--space-md);
    }
}

/* ========================================
   GLOBAL MINIPLAYER (Layout-Level)
   Floating preview that persists across pages
   ======================================== */

.global-miniplayer {
    position: fixed;
    bottom: var(--space-lg);
    right: var(--space-lg);
    width: 400px;
    height: 300px;
    z-index: 9999;
    border-radius: var(--radius-lg);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    border: 2px solid var(--admin-border);
    background: var(--admin-bg);
    resize: both;
    overflow: hidden;
    min-width: 280px;
    min-height: 200px;
    max-width: 90vw;
    max-height: 80vh;
    display: none;
    flex-direction: column;
}

.global-miniplayer--active {
    display: flex;
}

/* Header / drag handle */
.global-miniplayer__header {
    height: 32px;
    min-height: 32px;
    background: var(--admin-bg-secondary);
    border-bottom: 1px solid var(--admin-border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 var(--space-sm);
    cursor: move;
    user-select: none;
}

.global-miniplayer__title {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--admin-text-secondary);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.global-miniplayer__controls {
    display: flex;
    gap: var(--space-xs);
}

.global-miniplayer__btn {
    width: 22px;
    height: 22px;
    padding: 0;
    border: none;
    background: transparent;
    color: var(--admin-text-secondary);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    transition: color 0.15s, background 0.15s;
}

.global-miniplayer__btn:hover {
    color: var(--admin-text);
    background: var(--admin-bg-tertiary);
}

.global-miniplayer__btn svg {
    width: 14px;
    height: 14px;
}

/* Content / iframe area */
.global-miniplayer__content {
    flex: 1;
    position: relative;
    overflow: hidden;
}

.global-miniplayer__iframe {
    width: 100%;
    height: 100%;
    border: none;
    background: white;
}

/* Loading overlay */
.global-miniplayer__loading {
    position: absolute;
    inset: 0;
    background: var(--admin-bg);
    display: flex;
    align-items: center;
    justify-content: center;
}

.global-miniplayer__spinner {
    width: 24px;
    height: 24px;
    border: 2px solid var(--admin-border);
    border-top-color: var(--admin-accent);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

/* Resize handle indicator */
.global-miniplayer__resize-handle {
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 12px;
    height: 12px;
    background: linear-gradient(135deg, transparent 50%, var(--admin-text-muted) 50%);
    opacity: 0.5;
    pointer-events: none;
}

/* Dragging state */
.global-miniplayer--dragging {
    opacity: 0.9;
    cursor: move;
}

.global-miniplayer--dragging .global-miniplayer__iframe {
    pointer-events: none;
}

/* Body class when miniplayer is active - can be used to adjust layout */
body.has-miniplayer {
    /* Can add padding-bottom if needed to avoid content overlap */
}

/* Hide global miniplayer on preview page (preview page has its own) */
body[data-page="preview"] .global-miniplayer {
    display: none !important;
}

/* Responsive global miniplayer */
@media (max-width: 768px) {
    .global-miniplayer {
        width: 280px;
        height: 200px;
        bottom: var(--space-md);
        right: var(--space-md);
    }
}

/* =============================================================================
   COMPONENT DATA BUILDER (addComponentToNode, editComponentToNode)
   ============================================================================= */
.admin-component-data-builder {
    background: var(--admin-surface-dark);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    margin-bottom: var(--space-md);
}

.admin-component-data-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: 1px solid var(--admin-border);
}

.admin-component-data-header .admin-label {
    margin: 0;
    font-weight: 600;
}

.admin-component-data-header .admin-hint {
    margin: 0;
    font-size: var(--font-size-sm);
}

.admin-component-data-fields {
    min-height: 60px;
}

.admin-data-table {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.admin-data-row {
    display: grid;
    grid-template-columns: 140px 1fr;
    gap: var(--space-md);
    align-items: start;
    padding: var(--space-sm);
    background: var(--admin-surface);
    border-radius: var(--radius-sm);
    border: 1px solid var(--admin-border);
}

.admin-data-label {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.admin-data-label .admin-label {
    margin: 0;
    font-weight: 500;
    font-family: var(--font-mono);
    font-size: var(--font-size-sm);
}

.admin-data-input {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.admin-data-input .admin-input {
    font-size: var(--font-size-sm);
}

/* textKey selector within data builder */
.admin-textkey-selector {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
}

.admin-textkey-selector .admin-select--textkey {
    font-size: var(--font-size-sm);
}

.admin-textkey-selector .admin-hint {
    margin: 0;
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

/* Badge for variable type */
.admin-badge--small {
    font-size: var(--font-size-xs);
    padding: 2px 6px;
    border-radius: var(--radius-sm);
    background: var(--admin-accent-muted);
    color: var(--admin-accent);
    font-family: var(--font-mono);
}

/* ============================================
   MODE TOGGLE (Pill-style segmented control)
   ============================================ */
.admin-mode-toggle {
    display: inline-flex;
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-md);
    padding: 4px;
    gap: 4px;
}

.admin-mode-toggle__btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-xs);
    padding: 8px 16px;
    border: none;
    background: transparent;
    color: var(--admin-text-muted);
    font-size: var(--font-size-sm);
    font-weight: 500;
    border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.admin-mode-toggle__btn:hover:not(.admin-mode-toggle__btn--active) {
    color: var(--admin-text);
    background: var(--admin-bg-secondary);
}

.admin-mode-toggle__btn--active {
    background: var(--admin-accent);
    color: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

.admin-mode-toggle__icon {
    font-size: 1.1em;
}

/* ============================================
   COMPONENT LIST (Components Mode)
   ============================================ */
.admin-component-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: var(--space-md);
}

.admin-component-card {
    background: var(--admin-bg);
    border: 1px solid var(--admin-border);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.admin-component-card:hover {
    border-color: var(--admin-accent);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
}

.admin-component-card--selected {
    border-color: var(--admin-accent);
    background: var(--admin-accent-muted);
}

.admin-component-card__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-sm);
}

.admin-component-card__name {
    font-weight: 600;
    font-size: var(--font-size-md);
    color: var(--admin-text);
    font-family: var(--font-mono);
}

.admin-component-card__usage {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 4px 8px;
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.admin-component-card__usage--high {
    background: var(--admin-warning-muted);
    color: var(--admin-warning);
}

.admin-component-card__meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-top: var(--space-sm);
}

.admin-component-card__tag {
    display: inline-block;
    padding: 2px 8px;
    background: var(--admin-bg-tertiary);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
    color: var(--admin-text-muted);
}

.admin-component-card__tag--var {
    background: var(--admin-info-muted);
    color: var(--admin-info);
}

.admin-component-card__tag--slot {
    background: var(--admin-success-muted);
    color: var(--admin-success);
}

/* Component list toolbar */
.admin-component-toolbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--space-md);
    flex-wrap: wrap;
    gap: var(--space-sm);
}

.admin-component-toolbar__search {
    flex: 1;
    min-width: 200px;
    max-width: 300px;
}

.admin-component-toolbar__actions {
    display: flex;
    gap: var(--space-sm);
}

/* Component empty state */
.admin-component-empty {
    text-align: center;
    padding: var(--space-xl) var(--space-lg);
    color: var(--admin-text-muted);
}

.admin-component-empty__icon {
    font-size: 3rem;
    margin-bottom: var(--space-md);
    opacity: 0.5;
}

.admin-component-empty__title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    margin-bottom: var(--space-xs);
    color: var(--admin-text);
}

.admin-component-empty__text {
    font-size: var(--font-size-sm);
}